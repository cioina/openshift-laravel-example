((e,t)=>{var n=!0;(n=e&&void 0!==e.umd?e.umd:n)&&"object"==typeof exports?module.exports=t(require("jquery"),require("handlebars")):n&&"function"==typeof define&&define.amd?define("alpaca",["jquery","handlebars"],t):e.Alpaca=t(e.jQuery,e.Handlebars)})(this,function($,Handlebars){return this.HandlebarsPrecompiled=this.HandlebarsPrecompiled||{},this.HandlebarsPrecompiled["web-display"]=this.HandlebarsPrecompiled["web-display"]||{},this.HandlebarsPrecompiled["web-display"]["container-object-item"]=Handlebars.template({1:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n        ',l=null!=(l=a(n,"itemField")||(null!=t?a(t,"itemField"):t))?l:e.hooks.helperMissing,r={name:"itemField",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:4,column:8},end:{line:4,column:36}}},l="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l;return null!=(l=a(n,"itemField")?l:e.hooks.blockHelperMissing.call(t,l,r))&&(o+=l),o+"\r\n    </div>\r\n\r\n<\/script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-object"]=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},o="\r\n            ",l=null!=(l=a(n,"item")||(null!=t?a(t,"item"):t))?l:e.hooks.helperMissing,r={name:"item",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:7,column:12},end:{line:7,column:30}}},l="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l;return null!=(l=a(n,"item")?l:e.hooks.blockHelperMissing.call(t,l,r))&&(o+=l),o+"\r\n\r\n"},2:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"items"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:9,column:17}}}))?n:"")+"\r\n    </div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"].container=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <legend class="'+(null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"labelClass"):n,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:23},end:{line:6,column:78}}}))?n:"")+' alpaca-container-label">'+(null!=(n=e.lambda(null!=(n=null!=t?a(t,"options"):t)?a(n,"label"):n,t))?n:"")+"</legend>\r\n"},2:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"labelClass"):e,t))},4:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helpers"):n,{name:"each",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:8},end:{line:15,column:17}}}))?n:""},5:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="alpaca-helper '+(null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helperClass"):n,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:11,column:32},end:{line:11,column:89}}}))?n:"")+'">\r\n            <i class="alpaca-icon-helper"></i>\r\n            '+(null!=(n=e.lambda(t,t))?n:"")+"\r\n        </p>\r\n"},6:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"helperClass"):e,t))},8:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},l='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(u=o(n,"if").call(a,null!=(u=null!=t?o(t,"options"):t)?o(u,"label"):u,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:7,column:15}}}))?u:"")+"\r\n"+(null!=(u=o(n,"if").call(a,null!=(u=null!=t?o(t,"options"):t)?o(u,"helpers"):u,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:9,column:8},end:{line:16,column:15}}}))?u:"")+"\r\n        ",s=null!=(s=o(n,"container")||(null!=t?o(t,"container"):t))?s:e.hooks.helperMissing,r={name:"container",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:18,column:8},end:{line:18,column:36}}},u="function"==typeof s?s.call(a,r):s;return null!=(u=o(n,"container")?u:e.hooks.blockHelperMissing.call(t,u,r))&&(l+=u),l+"\r\n\r\n    </div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-any"]=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(n=(a(n,"str")||t&&a(t,"str")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"data"):t,{name:"str",hash:{},data:r,loc:{start:{line:3,column:9},end:{line:3,column:23}}}))?n:"")+"</div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-checkbox"]=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(n=(a(n,"str")||t&&a(t,"str")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"data"):t,{name:"str",hash:{},data:r,loc:{start:{line:3,column:9},end:{line:3,column:23}}}))?n:"")+"</div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-password"]=Handlebars.template({1:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(n=(a(n,"disguise")||t&&a(t,"disguise")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"data"):t,"&bull;",{name:"disguise",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:9},end:{line:3,column:49}}}))?n:"")+"</div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-radio"]=Handlebars.template({1:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=(l(n,"compare")||t&&l(t,"compare")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?l(t,"value"):t,null!=o[1]?l(o[1],"data"):o[1],{name:"compare",hash:{},fn:e.program(2,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:5,column:12},end:{line:7,column:24}}}))?n:""},2:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+(null!=(a="function"==typeof(n=null!=(n=a(n,"text")||(null!=t?a(t,"text"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:r,loc:{start:{line:6,column:16},end:{line:6,column:26}}}):n)?a:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(1,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:4,column:8},end:{line:8,column:17}}}))?n:"")+"    </div>\r\n\r\n<\/script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-display"]["control-select"]=Handlebars.template({1:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=(l(n,"compare")||t&&l(t,"compare")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?l(t,"value"):t,null!=o[1]?l(o[1],"data"):o[1],{name:"compare",hash:{},fn:e.program(2,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:5,column:12},end:{line:7,column:24}}}))?n:""},2:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+(null!=(a="function"==typeof(n=null!=(n=a(n,"text")||(null!=t?a(t,"text"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:r,loc:{start:{line:6,column:16},end:{line:6,column:26}}}):n)?a:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(1,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:4,column:8},end:{line:8,column:17}}}))?n:"")+"    </div>\r\n\r\n<\/script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-display"]["control-text"]=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(a="function"==typeof(n=null!=(n=a(n,"data")||(null!=t?a(t,"data"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"data",hash:{},data:r,loc:{start:{line:3,column:9},end:{line:3,column:19}}}):n)?a:"")+"</div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-textarea"]=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <p>\r\n        '+(null!=(a="function"==typeof(n=null!=(n=a(n,"data")||(null!=t?a(t,"data"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"data",hash:{},data:r,loc:{start:{line:4,column:8},end:{line:4,column:18}}}):n)?a:"")+"\r\n    </p>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"].control=Handlebars.template({1:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <label class="'+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"labelClass"):a,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:22},end:{line:6,column:77}}}))?a:"")+' alpaca-control-label" for="'+e.escapeExpression("function"==typeof(n=null!=(n=l(n,"id")||(null!=t?l(t,"id"):t))?n:e.hooks.helperMissing)?n.call(o,{name:"id",hash:{},data:r,loc:{start:{line:6,column:105},end:{line:6,column:111}}}):n)+'">'+(null!=(a=e.lambda(null!=(a=null!=t?l(t,"options"):t)?l(a,"label"):a,t))?a:"")+"</label>\r\n"},2:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"labelClass"):e,t))},4:function(e,t,n,i,r){return""},6:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helpers"):n,{name:"each",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:12,column:8},end:{line:17,column:17}}}))?n:""},7:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="'+(null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helperClass"):n,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:13,column:18},end:{line:13,column:75}}}))?n:"")+'">\r\n            <i class="info-sign"></i>\r\n            '+(null!=(n=e.lambda(t,t))?n:"")+"\r\n        </p>\r\n"},8:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"helperClass"):e,t))},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},l='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(c=o(n,"if").call(a,null!=(c=null!=t?o(t,"options"):t)?o(c,"label"):c,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:7,column:15}}}))?c:"")+"\r\n        ",s=null!=(s=o(n,"control")||(null!=t?o(t,"control"):t))?s:e.hooks.helperMissing,u={name:"control",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:9,column:8},end:{line:9,column:32}}},c="function"==typeof s?s.call(a,u):s;return null!=(c=o(n,"control")?c:e.hooks.blockHelperMissing.call(t,c,u))&&(l+=c),l+"\r\n\r\n"+(null!=(c=o(n,"if").call(a,null!=(c=null!=t?o(t,"options"):t)?o(c,"helpers"):c,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:11,column:8},end:{line:18,column:15}}}))?c:"")+"\r\n    </div>\r\n\r\n<\/script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"].form=Handlebars.template({1:function(e,t,n,i,r){return""},3:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"buttons"):n,{name:"each",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:9,column:12},end:{line:11,column:21}}}))?n:""},4:function(e,t,n,i,r){var a,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <button data-key="'+c(typeof(o=null!=(o=p(n,"key")||r&&p(r,"key"))?o:s)==u?o.call(l,{name:"key",hash:{},data:r,loc:{start:{line:10,column:30},end:{line:10,column:38}}}):o)+'" '+(null!=(a=(p(n,"compare")||t&&p(t,"compare")||s).call(l,null!=t?p(t,"type"):t,"submit",{name:"compare",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:40},end:{line:10,column:91}}}))?a:"")+" "+(null!=(a=(p(n,"compare")||t&&p(t,"compare")||s).call(l,null!=t?p(t,"type"):t,"reset",{name:"compare",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:92},end:{line:10,column:141}}}))?a:"")+' class="alpaca-form-button alpaca-form-button-'+c(typeof(o=null!=(o=p(n,"key")||r&&p(r,"key"))?o:s)==u?o.call(l,{name:"key",hash:{},data:r,loc:{start:{line:10,column:187},end:{line:10,column:195}}}):o)+" "+c(typeof(o=null!=(o=p(n,"styles")||(null!=t?p(t,"styles"):t))?o:s)==u?o.call(l,{name:"styles",hash:{},data:r,loc:{start:{line:10,column:196},end:{line:10,column:206}}}):o)+'" '+(null!=(a=p(n,"each").call(l,null!=t?p(t,"value"):t,{name:"each",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:208},end:{line:10,column:251}}}))?a:"")+" "+(null!=(a=p(n,"each").call(l,null!=t?p(t,"attributes"):t,{name:"each",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:252},end:{line:10,column:301}}}))?a:"")+">"+(null!=(a=typeof(o=null!=(o=p(n,"value")||(null!=t?p(t,"value"):t))?o:s)==u?o.call(l,{name:"value",hash:{},data:r,loc:{start:{line:10,column:302},end:{line:10,column:313}}}):o)?a:"")+"</button>\r\n"},5:function(e,t,n,i,r){return'type="submit"'},7:function(e,t,n,i,r){return'type="reset"'},9:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:10,column:223},end:{line:10,column:231}}}):n)+'="'+a(e.lambda(t,t))+'"'},11:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:10,column:273},end:{line:10,column:281}}}):n)+'="'+a(e.lambda(t,t))+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},l='<script type="text/x-handlebars-template">\r\n\r\n    <form role="form">\r\n\r\n        ',s=null!=(s=o(n,"formItems")||(null!=t?o(t,"formItems"):t))?s:e.hooks.helperMissing,u={name:"formItems",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:5,column:36}}},s="function"==typeof s?s.call(a,u):s;return null!=(s=o(n,"formItems")?s:e.hooks.blockHelperMissing.call(t,s,u))&&(l+=s),l+'\r\n\r\n        <div class="alpaca-form-buttons-container">\r\n'+(null!=(s=o(n,"if").call(a,null!=(s=null!=t?o(t,"options"):t)?o(s,"buttons"):s,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:8,column:12},end:{line:12,column:19}}}))?s:"")+"        </div>\r\n\r\n    </form>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled=this.HandlebarsPrecompiled||{},this.HandlebarsPrecompiled["web-edit"]=this.HandlebarsPrecompiled["web-edit"]||{},this.HandlebarsPrecompiled["web-edit"]["container-object-item"]=Handlebars.template({1:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n        ',l=null!=(l=a(n,"itemField")||(null!=t?a(t,"itemField"):t))?l:e.hooks.helperMissing,r={name:"itemField",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:5,column:36}}},l="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l;return null!=(l=a(n,"itemField")?l:e.hooks.blockHelperMissing.call(t,l,r))&&(o+=l),o+"\r\n\r\n    </div>\r\n\r\n<\/script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-object"]=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},o="\r\n            ",l=null!=(l=a(n,"item")||(null!=t?a(t,"item"):t))?l:e.hooks.helperMissing,r={name:"item",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:7,column:12},end:{line:7,column:30}}},l="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l;return null!=(l=a(n,"item")?l:e.hooks.blockHelperMissing.call(t,l,r))&&(o+=l),o+"\r\n\r\n"},2:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"items"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:9,column:17}}}))?n:"")+"\r\n    </div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].container=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <legend class="'+(null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"labelClass"):n,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:23},end:{line:6,column:78}}}))?n:"")+' alpaca-container-label">'+(null!=(n=e.lambda(null!=(n=null!=t?a(t,"options"):t)?a(n,"label"):n,t))?n:"")+"</legend>\r\n"},2:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"labelClass"):e,t))},4:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helpers"):n,{name:"each",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:8},end:{line:15,column:17}}}))?n:""},5:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="alpaca-helper '+(null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helperClass"):n,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:11,column:32},end:{line:11,column:89}}}))?n:"")+'">\r\n            <i class="alpaca-icon-helper"></i>\r\n            '+(null!=(n=e.lambda(t,t))?n:"")+"\r\n        </p>\r\n"},6:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"helperClass"):e,t))},8:function(e,t,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},l='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(u=o(n,"if").call(a,null!=(u=null!=t?o(t,"options"):t)?o(u,"label"):u,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:7,column:15}}}))?u:"")+"\r\n"+(null!=(u=o(n,"if").call(a,null!=(u=null!=t?o(t,"options"):t)?o(u,"helpers"):u,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:9,column:8},end:{line:16,column:15}}}))?u:"")+"\r\n        ",s=null!=(s=o(n,"container")||(null!=t?o(t,"container"):t))?s:e.hooks.helperMissing,r={name:"container",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:18,column:8},end:{line:18,column:36}}},u="function"==typeof s?s.call(a,r):s;return null!=(u=o(n,"container")?u:e.hooks.blockHelperMissing.call(t,u,r))&&(l+=u),l+"\r\n\r\n    </div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-any"]=Handlebars.template({1:function(e,t,n,i,r){return'readonly="readonly"'},3:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'name="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"name")||(null!=t?a(t,"name"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:3,column:114},end:{line:3,column:122}}}):n)+'"'},5:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"data-"+a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:3,column:158},end:{line:3,column:166}}}):n)+'="'+a(e.lambda(t,t))+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="text" id="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"id")||(null!=t?l(t,"id"):t))?a:e.hooks.helperMissing)?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:3,column:27},end:{line:3,column:33}}}):a)+'" size="40" '+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"readonly"):a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:45},end:{line:3,column:95}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=t?l(t,"name"):t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:96},end:{line:3,column:130}}}))?a:"")+" "+(null!=(a=l(n,"each").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"data"):a,{name:"each",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:131},end:{line:3,column:186}}}))?a:"")+"/>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-checkbox"]=Handlebars.template({1:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n"+(null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"checkboxOptions"):t,{name:"each",hash:{},fn:e.program(2,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:17,column:17}}}))?n:"")+"\r\n"},2:function(e,t,n,i,r,a,o){var l,s=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",p=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n            <div>\r\n\r\n                <label>\r\n\r\n                    <input type="checkbox" data-checkbox-index="'+p(typeof(l=null!=(l=d(n,"index")||r&&d(r,"index"))?l:u)==c?l.call(s,{name:"index",hash:{},data:r,loc:{start:{line:11,column:64},end:{line:11,column:74}}}):l)+'" data-checkbox-value="'+p(typeof(l=null!=(l=d(n,"value")||(null!=t?d(t,"value"):t))?l:u)==c?l.call(s,{name:"value",hash:{},data:r,loc:{start:{line:11,column:97},end:{line:11,column:106}}}):l)+'" '+(null!=(p=d(n,"if").call(s,null!=(p=null!=o[1]?d(o[1],"options"):o[1])?d(p,"readonly"):p,{name:"if",hash:{},fn:e.program(3,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:11,column:108},end:{line:11,column:161}}}))?p:"")+" "+(null!=(p=d(n,"if").call(s,null!=t?d(t,"name"):t,{name:"if",hash:{},fn:e.program(5,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:11,column:162},end:{line:11,column:196}}}))?p:"")+" "+(null!=(p=d(n,"each").call(s,null!=(p=null!=o[1]?d(o[1],"options"):o[1])?d(p,"data"):p,{name:"each",hash:{},fn:e.program(7,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:11,column:197},end:{line:11,column:256}}}))?p:"")+"/>\r\n                    "+(null!=(p=typeof(l=null!=(l=d(n,"text")||(null!=t?d(t,"text"):t))?l:u)==c?l.call(s,{name:"text",hash:{},data:r,loc:{start:{line:12,column:20},end:{line:12,column:30}}}):l)?p:"")+"\r\n\r\n                </label>\r\n            </div>\r\n\r\n"},3:function(e,t,n,i,r){return'readonly="readonly"'},5:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'name="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"name")||(null!=t?a(t,"name"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:11,column:180},end:{line:11,column:188}}}):n)+'"'},7:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",u=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"data-"+u(typeof(a=null!=(a=e(n,"key")||r&&e(r,"key"))?a:l)==s?a.call(o,{name:"key",hash:{},data:r,loc:{start:{line:11,column:227},end:{line:11,column:235}}}):a)+'="'+u(typeof(a=null!=(a=e(n,"value")||(null!=t?e(t,"value"):t))?a:l)==s?a.call(o,{name:"value",hash:{},data:r,loc:{start:{line:11,column:237},end:{line:11,column:246}}}):a)+'"'},9:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n        <div>\r\n\r\n            <label>\r\n\r\n                <input type="checkbox" '+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"readonly"):a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:25,column:39},end:{line:25,column:89}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=t?l(t,"name"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:25,column:90},end:{line:25,column:124}}}))?a:"")+" "+(null!=(a=l(n,"each").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"data"):a,{name:"each",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:25,column:125},end:{line:25,column:181}}}))?a:"")+"/>\r\n\r\n                "+(null!=(a=e.lambda(null!=(a=null!=t?l(t,"options"):t)?l(a,"rightLabel"):a,t))?a:"")+"\r\n            </label>\r\n\r\n        </div>\r\n\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n'+(null!=(n=l(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?l(t,"options"):t)?l(n,"multiple"):n,{name:"if",hash:{},fn:e.program(1,r,0,a,o),inverse:e.program(9,r,0,a,o),data:r,loc:{start:{line:3,column:4},end:{line:32,column:11}}}))?n:"")+"\r\n<\/script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["control-password"]=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'placeholder="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"placeholder"):e,t))+'"'},3:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'size="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"size"):e,t))+'"'},5:function(e,t,n,i,r){return'readonly="readonly"'},7:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'name="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"name")||(null!=t?a(t,"name"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:3,column:231},end:{line:3,column:239}}}):n)+'"'},9:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"data-"+a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:3,column:275},end:{line:3,column:283}}}):n)+'="'+a(e.lambda(t,t))+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="password" id="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"id")||(null!=t?l(t,"id"):t))?a:e.hooks.helperMissing)?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:3,column:31},end:{line:3,column:37}}}):a)+'" '+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"placeholder"):a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:39},end:{line:3,column:110}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"size"):a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:111},end:{line:3,column:161}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"readonly"):a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:162},end:{line:3,column:212}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=t?l(t,"name"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:213},end:{line:3,column:247}}}))?a:"")+" "+(null!=(a=l(n,"each").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"data"):a,{name:"each",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:248},end:{line:3,column:303}}}))?a:"")+"/>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-radio"]=Handlebars.template({1:function(e,t,n,i,r){return""},3:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="radio">\r\n        <label>\r\n            <input type="radio" '+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"readonly"):a,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:7,column:32},end:{line:7,column:82}}}))?a:"")+' name="'+e.escapeExpression("function"==typeof(n=null!=(n=l(n,"name")||(null!=t?l(t,"name"):t))?n:e.hooks.helperMissing)?n.call(o,{name:"name",hash:{},data:r,loc:{start:{line:7,column:89},end:{line:7,column:97}}}):n)+'" value=""/>'+(null!=(a=e.lambda(null!=(a=null!=t?l(t,"options"):t)?l(a,"noneLabel"):a,t))?a:"")+"\r\n        </label>\r\n    </div>\r\n"},4:function(e,t,n,i,r){return'readonly="readonly"'},6:function(e,t,n,i,r,a,o){var l,s=null!=t?t:e.nullContext||{},u=e.escapeExpression,c=e.hooks.helperMissing,p="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="radio">\r\n        <label>\r\n            <input type="radio" '+(null!=(l=d(n,"if").call(s,null!=(l=null!=o[1]?d(o[1],"options"):o[1])?d(l,"readonly"):l,{name:"if",hash:{},fn:e.program(4,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:15,column:32},end:{line:15,column:85}}}))?l:"")+' name="'+u(e.lambda(null!=o[1]?d(o[1],"name"):o[1],t))+'" value="'+u(typeof(u=null!=(u=d(n,"value")||(null!=t?d(t,"value"):t))?u:c)==p?u.call(s,{name:"value",hash:{},data:r,loc:{start:{line:15,column:112},end:{line:15,column:121}}}):u)+'" '+(null!=(l=(d(n,"compare")||t&&d(t,"compare")||c).call(s,null!=t?d(t,"value"):t,null!=o[1]?d(o[1],"data"):o[1],{name:"compare",hash:{},fn:e.program(7,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:15,column:123},end:{line:15,column:178}}}))?l:"")+"/>"+(null!=(l=typeof(u=null!=(u=d(n,"text")||(null!=t?d(t,"text"):t))?u:c)==p?u.call(s,{name:"text",hash:{},data:r,loc:{start:{line:15,column:180},end:{line:15,column:190}}}):u)?l:"")+"\r\n        </label>\r\n    </div>\r\n"},7:function(e,t,n,i,r){return'checked="checked"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r,a,o){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n'+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"hideNone"):l,{name:"if",hash:{},fn:e.program(1,r,0,a,o),inverse:e.program(3,r,0,a,o),data:r,loc:{start:{line:3,column:4},end:{line:10,column:11}}}))?l:"")+"\r\n"+(null!=(l=u(n,"each").call(s,null!=t?u(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(6,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:12,column:4},end:{line:18,column:13}}}))?l:"")+"\r\n<\/script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["control-select"]=Handlebars.template({1:function(e,t,n,i,r){return'readonly="readonly"'},3:function(e,t,n,i,r){return'multiple="multiple"'},5:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'size="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"size"):e,t))+'"'},7:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'name="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"name")||(null!=t?a(t,"name"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:3,column:195},end:{line:3,column:203}}}):n)+'"'},9:function(e,t,n,i,r,a,o){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n"+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"hideNone"):l,{name:"if",hash:{},fn:e.program(10,r,0,a,o),inverse:e.program(12,r,0,a,o),data:r,loc:{start:{line:7,column:8},end:{line:10,column:15}}}))?l:"")+"\r\n"+(null!=(l=u(n,"each").call(s,null!=t?u(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(14,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:12,column:8},end:{line:14,column:17}}}))?l:"")+"\r\n"},10:function(e,t,n,i,r){return""},12:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="">'+(null!=(e=e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"noneLabel"):e,t))?e:"")+"</option>\r\n"},14:function(e,t,n,i,r,a,o){var l,s,u=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,p="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="'+(null!=(l=typeof(s=null!=(s=d(n,"value")||(null!=t?d(t,"value"):t))?s:c)==p?s.call(u,{name:"value",hash:{},data:r,loc:{start:{line:13,column:23},end:{line:13,column:34}}}):s)?l:"")+'" '+(null!=(l=d(n,"each").call(u,null!=o[1]?d(o[1],"data"):o[1],{name:"each",hash:{},fn:e.program(15,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:13,column:36},end:{line:13,column:123}}}))?l:"")+">"+e.escapeExpression(typeof(s=null!=(s=d(n,"text")||(null!=t?d(t,"text"):t))?s:c)==p?s.call(u,{name:"text",hash:{},data:r,loc:{start:{line:13,column:124},end:{line:13,column:132}}}):s)+"</option>\r\n"},15:function(e,t,n,i,r,a,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=(l(n,"compare")||t&&l(t,"compare")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?l(t,"value"):t,null!=o[2]?l(o[2],"value"):o[2],{name:"compare",hash:{},fn:e.program(16,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:13,column:53},end:{line:13,column:114}}}))?n:""},16:function(e,t,n,i,r){return'selected="selected"'},18:function(e,t,n,i,r,a,o){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n"+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"hideNone"):l,{name:"if",hash:{},fn:e.program(10,r,0,a,o),inverse:e.program(12,r,0,a,o),data:r,loc:{start:{line:18,column:8},end:{line:21,column:15}}}))?l:"")+"\r\n"+(null!=(l=u(n,"each").call(s,null!=t?u(t,"selectOptions"):t,{name:"each",hash:{},fn:e.program(19,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:23,column:8},end:{line:25,column:17}}}))?l:"")+"\r\n"},19:function(e,t,n,i,r,a,o){var l,s,u=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,p="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="'+(null!=(l=typeof(s=null!=(s=d(n,"value")||(null!=t?d(t,"value"):t))?s:c)==p?s.call(u,{name:"value",hash:{},data:r,loc:{start:{line:24,column:23},end:{line:24,column:34}}}):s)?l:"")+'" '+(null!=(l=(d(n,"compare")||t&&d(t,"compare")||c).call(u,null!=t?d(t,"value"):t,null!=o[1]?d(o[1],"data"):o[1],{name:"compare",hash:{},fn:e.program(16,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:24,column:36},end:{line:24,column:93}}}))?l:"")+">"+e.escapeExpression(typeof(s=null!=(s=d(n,"text")||(null!=t?d(t,"text"):t))?s:c)==p?s.call(u,{name:"text",hash:{},data:r,loc:{start:{line:24,column:94},end:{line:24,column:102}}}):s)+"</option>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r,a,o){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <select id="'+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:e.hooks.helperMissing)?l.call(s,{name:"id",hash:{},data:r,loc:{start:{line:3,column:16},end:{line:3,column:22}}}):l)+'" '+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"readonly"):l,{name:"if",hash:{},fn:e.program(1,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:3,column:24},end:{line:3,column:74}}}))?l:"")+" "+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"multiple"):l,{name:"if",hash:{},fn:e.program(3,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:3,column:75},end:{line:3,column:125}}}))?l:"")+" "+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"size"):l,{name:"if",hash:{},fn:e.program(5,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:3,column:126},end:{line:3,column:176}}}))?l:"")+" "+(null!=(l=u(n,"if").call(s,null!=t?u(t,"name"):t,{name:"if",hash:{},fn:e.program(7,r,0,a,o),inverse:e.noop,data:r,loc:{start:{line:3,column:177},end:{line:3,column:211}}}))?l:"")+">\r\n\r\n"+(null!=(l=u(n,"if").call(s,null!=(l=null!=t?u(t,"options"):t)?u(l,"multiple"):l,{name:"if",hash:{},fn:e.program(9,r,0,a,o),inverse:e.program(18,r,0,a,o),data:r,loc:{start:{line:5,column:4},end:{line:27,column:11}}}))?l:"")+"\r\n    </select>\r\n\r\n<\/script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["control-text"]=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'placeholder="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"placeholder"):e,t))+'"'},3:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'size="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"size"):e,t))+'"'},5:function(e,t,n,i,r){return'readonly="readonly"'},7:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'name="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"name")||(null!=t?a(t,"name"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:3,column:236},end:{line:3,column:244}}}):n)+'"'},9:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"data-"+a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:3,column:280},end:{line:3,column:288}}}):n)+'="'+a(e.lambda(t,t))+'"'},11:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:3,column:337},end:{line:3,column:345}}}):n)+'="'+a(e.lambda(t,t))+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="'+u(typeof(a=null!=(a=c(n,"inputType")||(null!=t?c(t,"inputType"):t))?a:l)==s?a.call(o,{name:"inputType",hash:{},data:r,loc:{start:{line:3,column:17},end:{line:3,column:30}}}):a)+'" id="'+u(typeof(a=null!=(a=c(n,"id")||(null!=t?c(t,"id"):t))?a:l)==s?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:3,column:36},end:{line:3,column:42}}}):a)+'" '+(null!=(u=c(n,"if").call(o,null!=(u=null!=t?c(t,"options"):t)?c(u,"placeholder"):u,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:44},end:{line:3,column:115}}}))?u:"")+" "+(null!=(u=c(n,"if").call(o,null!=(u=null!=t?c(t,"options"):t)?c(u,"size"):u,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:116},end:{line:3,column:166}}}))?u:"")+" "+(null!=(u=c(n,"if").call(o,null!=(u=null!=t?c(t,"options"):t)?c(u,"readonly"):u,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:167},end:{line:3,column:217}}}))?u:"")+" "+(null!=(u=c(n,"if").call(o,null!=t?c(t,"name"):t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:218},end:{line:3,column:252}}}))?u:"")+" "+(null!=(u=c(n,"each").call(o,null!=(u=null!=t?c(t,"options"):t)?c(u,"data"):u,{name:"each",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:253},end:{line:3,column:308}}}))?u:"")+" "+(null!=(u=c(n,"each").call(o,null!=(u=null!=t?c(t,"options"):t)?c(u,"attributes"):u,{name:"each",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:309},end:{line:3,column:365}}}))?u:"")+"/>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-textarea"]=Handlebars.template({1:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'placeholder="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"placeholder"):e,t))+'"'},3:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'rows="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"rows"):e,t))+'"'},5:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'cols="'+e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"cols"):e,t))+'"'},7:function(e,t,n,i,r){return'readonly="readonly"'},9:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'name="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"name")||(null!=t?a(t,"name"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:3,column:269},end:{line:3,column:277}}}):n)+'"'},11:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l="function",s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"data-"+e.escapeExpression(typeof(e=null!=(e=s(n,"fieldId")||(null!=t?s(t,"fieldId"):t))?e:o)==l?e.call(a,{name:"fieldId",hash:{},data:r,loc:{start:{line:3,column:313},end:{line:3,column:324}}}):e)+'="'+(null!=(n=typeof(e=null!=(e=s(n,"value")||(null!=t?s(t,"value"):t))?e:o)==l?e.call(a,{name:"value",hash:{},data:r,loc:{start:{line:3,column:326},end:{line:3,column:337}}}):e)?n:"")+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <textarea id="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"id")||(null!=t?l(t,"id"):t))?a:e.hooks.helperMissing)?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:3,column:18},end:{line:3,column:24}}}):a)+'" '+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"placeholder"):a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:26},end:{line:3,column:97}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"rows"):a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:98},end:{line:3,column:148}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"cols"):a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:149},end:{line:3,column:199}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"readonly"):a,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:200},end:{line:3,column:250}}}))?a:"")+" "+(null!=(a=l(n,"if").call(o,null!=t?l(t,"name"):t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:251},end:{line:3,column:285}}}))?a:"")+" "+(null!=(a=l(n,"each").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"data"):a,{name:"each",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:286},end:{line:3,column:347}}}))?a:"")+"/>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].control=Handlebars.template({1:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <label class="'+(null!=(a=l(n,"if").call(o,null!=(a=null!=t?l(t,"options"):t)?l(a,"labelClass"):a,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:22},end:{line:6,column:77}}}))?a:"")+' alpaca-control-label" for="'+e.escapeExpression("function"==typeof(n=null!=(n=l(n,"id")||(null!=t?l(t,"id"):t))?n:e.hooks.helperMissing)?n.call(o,{name:"id",hash:{},data:r,loc:{start:{line:6,column:105},end:{line:6,column:111}}}):n)+'">'+(null!=(a=e.lambda(null!=(a=null!=t?l(t,"options"):t)?l(a,"label"):a,t))?a:"")+"</label>\r\n"},2:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"labelClass"):e,t))},4:function(e,t,n,i,r){return""},6:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helpers"):n,{name:"each",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:12,column:8},end:{line:17,column:17}}}))?n:""},7:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="'+(null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"helperClass"):n,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r,loc:{start:{line:13,column:18},end:{line:13,column:75}}}))?n:"")+'">\r\n            <i class="info-sign"></i>\r\n            '+(null!=(n=e.lambda(t,t))?n:"")+"\r\n        </p>\r\n"},8:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(e=null!=t?a(t,"options"):t)?a(e,"helperClass"):e,t))},10:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"buttons"):n,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r,loc:{start:{line:21,column:12},end:{line:27,column:19}}}))?n:""},11:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="alpaca-control-buttons-container">\r\n'+(null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"buttons"):n,{name:"each",hash:{},fn:e.program(12,r,0),inverse:e.noop,data:r,loc:{start:{line:23,column:16},end:{line:25,column:25}}}))?n:"")+"            </div>\r\n"},12:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <button data-key="'+u(typeof(a=null!=(a=c(n,"key")||r&&c(r,"key"))?a:l)==s?a.call(o,{name:"key",hash:{},data:r,loc:{start:{line:24,column:34},end:{line:24,column:42}}}):a)+'" type="'+u(typeof(a=null!=(a=c(n,"type")||(null!=t?c(t,"type"):t))?a:l)==s?a.call(o,{name:"type",hash:{},data:r,loc:{start:{line:24,column:50},end:{line:24,column:58}}}):a)+'" class="alpaca-control-button alpaca-control-button-'+u(typeof(a=null!=(a=c(n,"key")||r&&c(r,"key"))?a:l)==s?a.call(o,{name:"key",hash:{},data:r,loc:{start:{line:24,column:111},end:{line:24,column:119}}}):a)+" "+u(typeof(a=null!=(a=c(n,"styles")||(null!=t?c(t,"styles"):t))?a:l)==s?a.call(o,{name:"styles",hash:{},data:r,loc:{start:{line:24,column:120},end:{line:24,column:130}}}):a)+'" '+(null!=(u=c(n,"each").call(o,null!=t?c(t,"value"):t,{name:"each",hash:{},fn:e.program(13,r,0),inverse:e.noop,data:r,loc:{start:{line:24,column:132},end:{line:24,column:177}}}))?u:"")+">"+(null!=(u=typeof(a=null!=(a=c(n,"value")||(null!=t?c(t,"value"):t))?a:l)==s?a.call(o,{name:"value",hash:{},data:r,loc:{start:{line:24,column:178},end:{line:24,column:189}}}):a)?u:"")+"</button>\r\n"},13:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",u=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return u(typeof(a=null!=(a=e(n,"key")||r&&e(r,"key"))?a:l)==s?a.call(o,{name:"key",hash:{},data:r,loc:{start:{line:24,column:147},end:{line:24,column:155}}}):a)+'="'+u(typeof(a=null!=(a=e(n,"value")||(null!=t?e(t,"value"):t))?a:l)==s?a.call(o,{name:"value",hash:{},data:r,loc:{start:{line:24,column:157},end:{line:24,column:166}}}):a)+'" '},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},l='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(c=o(n,"if").call(a,null!=(c=null!=t?o(t,"options"):t)?o(c,"label"):c,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:7,column:15}}}))?c:"")+"\r\n        ",s=null!=(s=o(n,"control")||(null!=t?o(t,"control"):t))?s:e.hooks.helperMissing,u={name:"control",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:9,column:8},end:{line:9,column:32}}},c="function"==typeof s?s.call(a,u):s;return null!=(c=o(n,"control")?c:e.hooks.blockHelperMissing.call(t,c,u))&&(l+=c),l+"\r\n\r\n"+(null!=(c=o(n,"if").call(a,null!=(c=null!=t?o(t,"options"):t)?o(c,"helpers"):c,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:11,column:8},end:{line:18,column:15}}}))?c:"")+"\r\n"+(null!=(c=o(n,"if").call(a,null!=(c=null!=t?o(t,"options"):t)?o(c,"renderButtons"):c,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r,loc:{start:{line:20,column:8},end:{line:28,column:15}}}))?c:"")+"\r\n    </div>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].form=Handlebars.template({1:function(e,t,n,i,r){return""},3:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(n=null!=t?a(t,"options"):t)?a(n,"buttons"):n,{name:"each",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:9,column:16},end:{line:11,column:25}}}))?n:""},4:function(e,t,n,i,r){var a,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <button data-key="'+c(typeof(o=null!=(o=p(n,"key")||r&&p(r,"key"))?o:s)==u?o.call(l,{name:"key",hash:{},data:r,loc:{start:{line:10,column:38},end:{line:10,column:46}}}):o)+'" type="'+c(typeof(o=null!=(o=p(n,"type")||(null!=t?p(t,"type"):t))?o:s)==u?o.call(l,{name:"type",hash:{},data:r,loc:{start:{line:10,column:54},end:{line:10,column:62}}}):o)+'" '+(null!=(a=p(n,"if").call(l,null!=t?p(t,"id"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:64},end:{line:10,column:92}}}))?a:"")+' class="alpaca-form-button alpaca-form-button-'+c(typeof(o=null!=(o=p(n,"key")||r&&p(r,"key"))?o:s)==u?o.call(l,{name:"key",hash:{},data:r,loc:{start:{line:10,column:138},end:{line:10,column:146}}}):o)+" "+c(typeof(o=null!=(o=p(n,"styles")||(null!=t?p(t,"styles"):t))?o:s)==u?o.call(l,{name:"styles",hash:{},data:r,loc:{start:{line:10,column:147},end:{line:10,column:157}}}):o)+'" '+(null!=(a=p(n,"each").call(l,null!=t?p(t,"value"):t,{name:"each",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:159},end:{line:10,column:202}}}))?a:"")+" "+(null!=(a=p(n,"each").call(l,null!=t?p(t,"attributes"):t,{name:"each",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r,loc:{start:{line:10,column:203},end:{line:10,column:252}}}))?a:"")+">"+(null!=(a=typeof(o=null!=(o=p(n,"value")||(null!=t?p(t,"value"):t))?o:s)==u?o.call(l,{name:"value",hash:{},data:r,loc:{start:{line:10,column:253},end:{line:10,column:264}}}):o)?a:"")+"</button>\r\n"},5:function(e,t,n,i,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'id="'+e.escapeExpression("function"==typeof(n=null!=(n=a(n,"id")||(null!=t?a(t,"id"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:r,loc:{start:{line:10,column:78},end:{line:10,column:84}}}):n)+'"'},7:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:10,column:174},end:{line:10,column:182}}}):n)+'="'+a(e.lambda(t,t))+'"'},9:function(e,t,n,i,r){var a=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+a("function"==typeof(n=null!=(n=o(n,"key")||r&&o(r,"key"))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:r,loc:{start:{line:10,column:224},end:{line:10,column:232}}}):n)+'="'+a(e.lambda(t,t))+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},l='<script type="text/x-handlebars-template">\r\n\r\n    <form role="form">\r\n\r\n        ',s=null!=(s=o(n,"formItems")||(null!=t?o(t,"formItems"):t))?s:e.hooks.helperMissing,u={name:"formItems",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:5,column:8},end:{line:5,column:36}}},s="function"==typeof s?s.call(a,u):s;return null!=(s=o(n,"formItems")?s:e.hooks.blockHelperMissing.call(t,s,u))&&(l+=s),l+'\r\n\r\n        <div class="alpaca-form-buttons-container">\r\n'+(null!=(s=o(n,"if").call(a,null!=(s=null!=t?o(t,"options"):t)?o(s,"buttons"):s,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r,loc:{start:{line:8,column:12},end:{line:12,column:19}}}))?s:"")+"        </div>\r\n\r\n    </form>\r\n\r\n<\/script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].message=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-message alpaca-message-'+(null!=(a=typeof(o=null!=(o=e(n,"id")||(null!=t?e(t,"id"):t))?o:s)==u?o.call(l,{name:"id",hash:{},data:r,loc:{start:{line:3,column:46},end:{line:3,column:54}}}):o)?a:"")+'">\r\n        '+(null!=(a=typeof(o=null!=(o=e(n,"message")||(null!=t?e(t,"message"):t))?o:s)==u?o.call(l,{name:"message",hash:{},data:r,loc:{start:{line:4,column:8},end:{line:4,column:21}}}):o)?a:"")+"\r\n    </div>\r\n\r\n<\/script>"},useData:!0}),(e=>{e.Base=(()=>{var l="function",s=!1,u=["constructor","toString","valueOf"],c=u.length,p=/\bbase\b/,d={toSource:null,base:function(){}},h=function(){};return h.extend=function(e,t){var n=h.prototype.extend,i=(s=!0,new this),r=(n.call(i,e),i.base=d.base,s=!1,i.constructor),a=i.constructor=function(){s||(this&&(this._constructing||this.constructor===a)?(this._constructing=!0,r.apply(this,arguments),this._constructing=!1):arguments.length&&h.cast.apply(a,arguments))};return n.call(a,this),a.ancestor=this,a.prototype=i,a.valueOf=function(e){return"object"===e?a:r.valueOf()},n.call(a,t),typeof a.init==l&&a.init(),a},h.prototype.extend=function(e,t){if("string"==typeof e&&1<arguments.length){var n,i=this[e];!i||typeof t!=l||i.valueOf&&i.valueOf()===t.valueOf()||!p.test(t)||(n=t.valueOf(),(t=function(){var e,t=this.base||d.base;return this.base=i,e=0===arguments.length?n.call(this):n.apply(this,arguments),this.base=t,e}).valueOf=function(e){return"object"===e?t:n},t.toString=h.toString),this[e]=t}else if(e){for(var r,a=h.prototype.extend,o=(s||typeof this==l||(a=this.extend||a),s?0:1);o<c;o++)e[r=u[o]]!==d[r]&&a.call(this,r,e[r]);for(r in e)d[r]||a.call(this,r,e[r])}return this},h=h.extend({base:d.base},{ancestor:Object,version:"1.1",cast:function(){for(var e,t,n=0,i=arguments.length;n<i;n++)e=(t=arguments[n]).extend||h.prototype.extend,typeof t==l?((e=t.prototype.extend||h.prototype.extend).call(t.prototype,this.prototype),e.call(t,this),t.ancestor=this):e.call(t,this.prototype);return this},implement:function(){for(var e=0;e<arguments.length;e++)this.cast.call(arguments[e],this);return this},toString:function(){return this.valueOf()+""}})})()})(this),(x=>{function C(){if(0===(E=C.makeArray(arguments)).length)return C.throwDefaultError("You must supply at least one argument.  This argument can either be a DOM element against which Alpaca will generate a form or it can be a function name.  See http://www.alpacajs.org for more details.");var r=E[0],a=(r&&C.isString(r)&&(r=x("#"+r)),null),o=null,l=null,s=null,u=null,e=null,c=null,p=null,t=!1,d={},n=null,i=null,h=null,f=null,m=1<E.length&&C.isString(E[1])&&-1<["get","exists","destroy"].indexOf(E[1]),y=(w=null,0<(O=x(r).find(":first")).length&&((y=x(O[0]).attr("data-alpaca-field-id"))?(g=C.fieldInstances[y])&&(w=g):x(O[0]).attr("data-alpaca-form-id")&&0<(y=x(O[0]).find(":first")).length&&(O=x(y[0]).attr("data-alpaca-field-id"))&&(g=C.fieldInstances[O])&&(w=g)),w);if(y||m)return!m||"get"===(O=E[1])?y:"exists"===O?!!y:"destroy"===O?void(y&&y.destroy()):C.throwDefaultError("Unknown special function: "+O);var g=null;if(1===E.length?(w=x(r).text(),g=JSON.parse(w),x(r).html("")):g=C.isObject(E[1])?E[1]:C.isFunction(E[1])?E[1]():{data:E[1]},!g)return C.throwDefaultError("Unable to determine Alpaca configuration");function v(e){e.parent||(e.hideInitValidationError||e.refreshValidationState(!0),"view"!==e.view.type&&C.fieldApplyFieldAndChildren(e,function(e){e.hideInitValidationError=!1}))}function b(n){n.parent||(n.observableScope=C.generateId()),C.isUndefined(l.focus)&&!n.parent&&(l.focus=C.defaultFocus),l&&l.focus?window.setTimeout(function(){function e(e){e.suspendBlurFocus=!0,e.focus(),e.suspendBlurFocus=!1}var t;l.focus&&(n.isControlField&&n.isAutoFocusable()?e(n):n.isContainerField&&(!0===l.focus?n.children&&0<n.children.length&&e(n):"string"==typeof l.focus&&(t=n.getControlByPath(l.focus))&&t.isControlField&&t.isAutoFocusable()&&e(t)),v(n))},500):v(n),"function"==typeof e&&e(n)}a=g.data,o=g.schema,l=g.options,s=g.view,u=g.render,g.callback&&(u=g.callback),e=g.postRender,c=g.error,p=g.connector,n=g.dataSource,i=g.schemaSource,h=g.optionsSource,f=g.viewSource,g.ui&&(d.ui=g.ui),g.type&&(d.type=g.type),C.isEmpty(g.notTopLevel)||(t=g.notTopLevel),C.isEmpty(c)&&(c=C.defaultErrorCallback);var m="default",O={},w=(C.isString(p)?m=p:C.isObject(p)&&p.id&&(m=p.id,p.config)&&(O=p.config),C.getConnectorClass(m)),E=p=new w(m,O);t&&(E=new(C.getConnectorClass("default"))("default")),l=l||{},E.loadAll({data:a,schema:o,options:l,view:s,dataSource:n,schemaSource:i,optionsSource:h,viewSource:f},function(e,t,n,i){return e=e||a,n=n||o,t=t||l,i=i||s,C.isEmpty(e)&&C.isEmpty(n)&&(C.isEmpty(t)||C.isEmpty(t.type))&&(e="",C.isEmpty(t)?t="text":l&&C.isObject(l)&&(t.type="text")),t.view&&(i=t.view),C.init(r,e,t,n,i,d,u,b,p,c)},function(e){return c(e),null})}C.Fields={},C.Connectors={},C.Extend=x.extend,C.Create=function(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),x.extend.apply(this,e)},C.Extend(C,{makeArray:function(e){return Array.prototype.slice.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isString:function(e){return"string"==typeof e},isObject:function(e){return!C.isUndefined(e)&&"[object Object]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return x.isPlainObject(e)},isNumber:function(e){return"number"==typeof e},isArray:function(e){return e instanceof Array},isBoolean:function(e){return"boolean"==typeof e},isUndefined:function(e){return void 0===e},trim:function(e){return e=e&&C.isString(e)?e.replace(/^\s+|\s+$/g,""):e},safeDomParse:function(t){if(t&&C.isString(t)){t=C.trim(t);var n=null;try{n=x(t)}catch(e){n=x(t="<div>"+t+"</div>").children()}return n}return t},isEmpty:function(e,t){if(C.isUndefined(e))return!0;if(null===e)return!0;if(e&&C.isObject(e)&&0===this.countProperties(e,t))return!0;return!1},countProperties:function(e,t){var n=0;if(e&&C.isObject(e))for(var i in e)e.hasOwnProperty(i)&&(t||"function"!=typeof e[i])&&n++;return n},copyOf:function(e){var t=e;if(C.isArray(e))for(var t=[],n=0;n<e.length;n++)t.push(C.copyOf(e[n]));else if(C.isObject(e)){if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(e.nodeType&&"cloneNode"in e)t=e.cloneNode(!0);else if(x.isPlainObject(e))for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=C.copyOf(e[i]))}return t},cloneObject:function(e){return C.copyOf(e)},spliceIn:function(e,t,n){return e.substring(0,t)+n+e.substring(t,e.length)},compactArray:function(e){for(var t=[],n=e.length,i=0;i<n;i++)lang.isNull(e[i])||lang.isUndefined(e[i])||t.push(e[i]);return t},removeAccents:function(e){return e.replace(/[àáâãäå]/g,"a").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõö]/g,"o").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y").replace(/[ñ]/g,"n").replace(/[ç]/g,"c").replace(/[œ]/g,"oe").replace(/[æ]/g,"ae")},indexOf:function(e,t,n){var i,r=t.length;for(C.isFunction(n)||(n=function(e,t){return e===t}),i=0;i<r;i++)if(n.call({},e,t[i]))return i;return-1},uniqueIdCounter:0,defaultLocale:"en_US",defaultFocus:!0,setDefaultLocale:function(e){this.defaultLocale=e},defaultSchemaFieldMapping:{},registerDefaultSchemaFieldMapping:function(e,t){e&&t&&(this.defaultSchemaFieldMapping[e]=t)},defaultFormatFieldMapping:{},registerDefaultFormatFieldMapping:function(e,t){e&&t&&(this.defaultFormatFieldMapping[e]=t)},getSchemaType:function(e){var t=null;return C.isEmpty(e)?t="string":C.isArray(e)?t="array":C.isObject(e)?t="object":C.isString(e)?t="string":C.isNumber(e)?t="number":C.isBoolean(e)&&(t="boolean"),t=t||"object"!=typeof e?t:"object"},guessOptionsType:function(e){var t=null,t=e&&void 0!==e.enum?3<e.enum.length?"select":"radio":C.defaultSchemaFieldMapping[e.type];return t=e.format&&C.defaultFormatFieldMapping[e.format]?C.defaultFormatFieldMapping[e.format]:t},views:{},generateViewId:function(){return"view-"+this.generateId()},registerView:function(e){var t=e.id;if(!t)return C.throwDefaultError("Cannot register view with missing view id: "+t);var n=this.views[t];if(n)C.mergeObject(n,e);else{(this.views[t]=e).templates||(e.templates={});for(var i=C.TemplateEngineRegistry.ids(),r=0;r<i.length;r++){var a=i[r],o=C.TemplateEngineRegistry.find(a);if(o)for(var l=o.findCacheKeys(t),s=0;s<l.length;s++){var u=C.splitCacheKey(l[s]);e.templates[u.templateId]={type:a,template:!0,cacheKey:l[s]}}}}},getNormalizedView:function(e){return this.normalizedViews[e]},lookupNormalizedView:function(e,t){var n,i=null;for(n in this.normalizedViews){var r=this.normalizedViews[n];if(r.ui===e&&r.type===t){i=n;break}}return i},registerTemplate:function(e,t,n){this.views[n=n||"base"]||(this.views[n]={},this.views[n].id=n),this.views[n].templates||(this.views[n].templates={}),this.views[n].templates[e]=t},registerTemplates:function(e,t){for(var n in e)this.registerTemplate(n,e[n],t)},registerMessage:function(e,t,n){this.views[n=n||"base"]||(this.views[n]={},this.views[n].id=n),this.views[n].messages||(this.views[n].messages={}),this.views[n].messages[e]=t},registerMessages:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.registerMessage(n,e[n],t)},defaultDateFormat:"MM/DD/YYYY",defaultTimeFormat:"HH:SS",regexps:{date:/^((\d{2})\D?(\d{2})\D?(\d{4}))?$/,phone:/^(\D?(\d{3})\D?\D?(\d{3})\D?(\d{4}))?$/,zipcode:/^((\d{5})\D?(\d{4})?)?$/,email:/^[a-z0-9!\#\$%&'\*\-\/=\?\+\-\^_`\{\|\}~]+(?:\.[a-z0-9!\#\$%&'\*\-\/=\?\+\-\^_`\{\|\}~]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,6}$/i,url:/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(\:[0-9]{1,5})?(\/.*)?$/i,"intranet-url":/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*(\:[0-9]{1,5})?(\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/,integer:/^([\+\-]?([1-9]\d*)|0)$/,number:/^([\+\-]?((([0-9]+(\.)?)|([0-9]*\.[0-9]+))([eE][+-]?[0-9]+)?))$/,ipv4:/^(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)(?:\.(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)){3}$/,whitespace:/^\s+$/},fieldInstances:{},fieldClassRegistry:{},registerFieldClass:function(e,t){this.fieldClassRegistry[e]=t},getFieldClass:function(e){return this.fieldClassRegistry[e]},getFieldClassType:function(e){for(var t in this.fieldClassRegistry)if(this.fieldClassRegistry.hasOwnProperty(t)&&this.fieldClassRegistry[t]===e)return t;return null},connectorClassRegistry:{},registerConnectorClass:function(e,t){this.connectorClassRegistry[e]=t},getConnectorClass:function(e){return this.connectorClassRegistry[e]},replaceAll:function(e,t,n){return e.replace(new RegExp(t,"g"),n)},element:function(e,t,n,i){var r=x("<"+e+"/>");if(t&&r.attr(t),n&&r.css(n),i)for(var a in i)r.addClass(a)},elementFromTemplate:function(e,t){var n=e;if(t)for(var i in t)n=C.replaceAll(n,"${"+i+"}",t[i]);return x(n)},generateId:function(){return"alpaca"+ ++C.uniqueIdCounter},later:function(e,t,n,i,r){e=e||0,t=t||{};var a,o=n,l=x.makeArray(i);if(o="string"==typeof n?t[n]:o)return i=function(){o.apply(t,l)},{id:a=(r?setInterval:setTimeout)(i,e),interval:r,cancel:function(){(this.interval?clearInterval:clearTimeout)(a)}};throw{name:"TypeError",message:"The function is undefined."}},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},startsWith:function(e,t){return e.substr(0,t.length)===t},isUri:function(e){return C.isString(e)&&(C.startsWith(e,"http://")||C.startsWith(e,"https://")||C.startsWith(e,"/")||C.startsWith(e,"./")||C.startsWith(e,"../"))},traverseObject:function(e,t,n){C.isString(t)&&(t=t.split("."));for(var i=null,r=e,a=null;a=t.shift(),n&&a===n&&(a=t.shift()),C.isEmpty(r[a])?t=[]:(r=r[a],0===t.length&&(i=r)),0<t.length;);return i},each:function(e,t){if(C.isArray(e))for(var n=0;n<e.length;n++)t.apply(e[n]);else if(C.isObject(e))for(var i in e)t.apply(e[i])},merge:function(e,t,n){for(var i in e=e||{},t){var r=!0;(r=n?n(i):r)&&(!C.isEmpty(t[i])&&C.isObject(t[i])?(e[i]||(e[i]={}),e[i]=C.merge(e[i],t[i])):e[i]=t[i])}return e},mergeObject:function(e,t){return this.mergeObject2(t=t||{},e=e||{}),e},mergeObject2:function(e,t){function i(t,n){return r(t)?r(n)&&x.each(t,function(e){n.push(l(t[e]))}):a(t)?a(n)&&x.each(t,function(e){o(n[e])?n[e]=l(t[e]):n[e]=i(t[e],n[e])}):n=l(t),n}var r=C.isArray,a=C.isObject,o=C.isUndefined,l=C.copyOf;return i(e,t),t},substituteTokens:function(e,t){if(!C.isEmpty(e))for(var n=0;n<t.length;n++){var i=e.indexOf("{"+n+"}");-1<i&&(e=e.substring(0,i)+t[n]+e.substring(i+3))}return e},compareObject:function(e,t){return equiv(e,t)},compareArrayContent:function(e,t){var n=e&&t&&e.length===t.length;if(n)for(var i=e.length-1;0<=i;i--){var r=e[i];if(x.inArray(r,t)<0)return!1}return n},testRegex:function(e,t){return new RegExp(e).test(t)},isValEmpty:function(e,t){var n=!1;return n=C.isEmpty(e,t)||(C.isString(e)&&""===e&&(n=!0),C.isObject(e)&&x.isEmptyObject(e)&&(n=!0),C.isArray(e)&&0===e.length&&(n=!0),C.isNumber(e)&&isNaN(e))?!0:n},init:function(o,l,s,u,c,p,d,h,f,m){var y=this;C.isObject(c)&&(c.id||(c.id=this.generateViewId()),c.parent||(c.parent="bootstrap-edit"),this.registerView(c),c=c.id),this.compile(function(e){if(e.errors&&0<e.errors.length){for(var t=[],n=0;n<e.errors.length;n++){var i=e.errors[n].view,r=e.errors[n].cacheKey,a=e.errors[n].err,r="The template with cache key: "+r+" for view: "+i+" failed to compile";a&&a.message&&(r+=", message: "+a.message,t.push(a.message)),a&&(r+=", err: "+JSON.stringify(a)),C.logError(r),delete y.normalizedViews[i],delete y.views[i]}return C.throwErrorWithCallback("View compilation failed, cannot initialize Alpaca. "+t.join(", "),m)}y._init(o,l,s,u,c,p,d,h,f,m)},m)},_init:function(e,t,n,i,r,a,o,l,s,u){var c,p,d,h=this,f=C.defaultView||null,m=null;return x.mobile&&!f&&(f="jquerymobile"),"function"!=typeof x.fn.modal||(f=f||"bootstrap"),(f=void 0!==x.ui&&!f?"jqueryui":f)&&(m="edit"),r||(c=a.ui,a=a.type,c||(f=f||C.defaultUI)&&(c=f),c&&(C.logDebug("No view provided but found request for UI: "+c+" and type: "+(a=a||m||"edit")),r=this.lookupNormalizedView(c,a),C.logDebug(r?"Found view: "+r:"No view found for UI: "+c+" and type: "+a))),r?C.isString(r)&&!this.normalizedViews[r]?C.throwErrorWithCallback("The desired view: "+r+" could not be loaded.  Please make sure it is loaded and not misspelled.",u):void((p=C.createFieldInstance(e,t,n,i,r,s,u))&&(x(e).addClass("alpaca-field-rendering"),x(e).addClass("alpaca-hidden"),(C.fieldInstances[p.getId()]=p).allFieldInstances=function(){return C.fieldInstances},C.isEmpty(o)&&(o=p.view.render),C.isEmpty(l)&&(l=p.view.postRender),d=function(){p.parent||p.getFieldEl().addClass("alpaca-"+h.getNormalizedView(r).type),p.parent||p.getFieldEl().addClass("alpaca-top"),x(e).removeClass("alpaca-field-rendering"),x(e).removeClass("alpaca-hidden"),p._oldFieldEl&&x(p._oldFieldEl).remove(),l(p)},C.isEmpty(o)?p.render(function(){d()}):o(p,function(){d()}),p.callback=o,p.renderedCallback=l)):C.throwErrorWithCallback("A view was not specified and could not be automatically determined.",u)},createFieldInstance:function(e,t,n,i,r,a,o){C.isValEmpty(n,!0)&&(n={}),C.isValEmpty(i,!0)&&(i={}),n&&C.isString(n)&&(l=n,(n={}).type=l),n.type||(i.type||(i.type=C.getSchemaType(t)),i.type||(t&&C.isArray(t)?i.type="array":i.type="object"),n.type=C.guessOptionsType(i));var l=C.getFieldClass(n.type);return l?new l(e,t,n,i,r,a,o):(o({message:"Unable to find field class for type: "+n.type,reason:"FIELD_INSTANTIATION_ERROR"}),null)},parseJSON:function(e){return e?x.parseJSON(e):null},compile:function(n,e){function t(e){var t,n=[];for(t in e){var i=e[t];if(i.templates)for(var r in i.templates){var a=i.templates[r];n.push(((t,n,i,r,a)=>function(e){c(t,n,"view",i,r,a,e)})(e,i,i.id,r,a))}if(i.fields)for(var o in i.fields)if(i.fields[o].templates)for(var r in i.fields[o].templates){var a=i.fields[o].templates[r];n.push(((t,n,i,r,a)=>function(e){c(t,n,"field",i,r,a,e)})(e,i,o,r,a))}i.globalTemplate&&(a=i.globalTemplate,n.push(((t,n,i)=>function(e){c(t,n,"global","global","globalTemplate",i,e)})(e,i,a)))}for(var l=n.length,s=0;s<n.length;s++)n[s](l)}var i,r=this,a={errors:[],count:0,successCount:0},o=function(e){if(0===a.errors.length)for(var t in e)r.normalizedViews[t]=e[t];n(a)},u=function(e,t,n,i,r){n=n.id;a.count++,t?a.errors.push({view:n,cacheKey:i,err:t}):a.successCount++,a.count==r&&o(e)},c=function(t,n,e,i,r,a,o){var l=C.makeCacheKey(n.id,e,i,r),e="text/x-handlebars-template";if(a&&C.isObject(a)&&(e=a.type,a.cacheKey&&(l=a.cacheKey),a=a.template),a&&"string"==typeof a&&(i=a.toLowerCase(),C.isUri(i)||(!a||0!==a.indexOf("#")&&0!==a.indexOf(".")?a&&(r=n.templates[a])&&(a=r):(i=x(a),e=x(i).attr("type"),a=x(i).html()))),e){var s,r;if(r=C.TemplateEngineRegistry.find(e))return!0===a?r.isCached(l)?void u(t,null,n,l,o):(i="View configuration for view: "+n.id+" claims to have precompiled template for cacheKey: "+l+" but it could not be found",C.logError(i),void u(t,new Error(i),n,l,o)):void(r.isCached(l)?u(t,null,n,l,o):r.compile(l,a,function(e){u(t,e,n,l,o)}));C.logError("Cannot find template engine for type: "+type),s=new Error("Cannot find template engine for type: "+type)}else C.logError("Engine type was empty"),s=new Error("Engine type was empty");u(t,s,n,l,o)},l={},s=0;for(i in C.normalizedViews||(C.normalizedViews={}),r.normalizedViews=C.normalizedViews,r.views)if(!C.normalizedViews[i]){var p=new C.NormalizedView(i);if(!p.normalize(r.views))return void C.throwErrorWithCallback("View normalization failed, cannot initialize Alpaca.  Please check the error logs.",e);l[i]=p,s++}(0<s?t:o)(l)},getTemplateDescriptor:function(l,s,e){var u,t,n=null,i=null,r=null;if(l.templates&&l.templates[s]&&(r=C.makeCacheKey(l.id,"view",l.id,s),t=l.templates[s],C.isObject(t))&&t.cacheKey&&(r=t.cacheKey),e&&e.path&&(t=e.path,l)&&l.fields&&t&&1<t.length&&(u=function(e,t,n){var i,r,a,o;t!=e.length&&(i=e.slice(),r=!1,-1<(a=(o=e[t]).indexOf("["))&&(o=o.substring(0,a),r=!0),i[t]=o,a=i.join("/"),l.fields[a]&&l.fields[a].templates&&l.fields[a].templates[s]&&(o=C.makeCacheKey(l.id,"field",a,s))&&n.push({path:a,cacheKey:o}),u(e,t+1,n),r)&&u(i,t+1,n)},e=t.split("/"),u(e,0,t=[]),0<t.length)&&(r=t[0].cacheKey),r="globalTemplate"!==s&&"global"!==s?r:C.makeCacheKey(l.id,"global","global","globalTemplate")){for(var a=C.TemplateEngineRegistry.ids(),o=0;o<a.length;o++){var c=a[o];if(C.TemplateEngineRegistry.find(c).isCached(r)){i=c;break}}i&&(n={engine:i,cacheKey:r})}return n},tmpl:function(e,t){e=C.tmplHtml(e,t);return C.safeDomParse(e)},tmplHtml:function(e,t){t=t||{};var n,i=e.engine,r=C.TemplateEngineRegistry.find(i);return r?(n=e.cacheKey,r.execute(n,t,function(e){var t=JSON.stringify(e);return e.message&&(t=e.message),C.throwDefaultError("The compiled template: "+n+" failed to execute: "+t)})):C.throwDefaultError("Cannot find template engine for type: "+i)}}),C.DEBUG=0,C.INFO=1,C.WARN=2,C.logLevel=C.ERROR=3,C.logDebug=function(e){C.log(C.DEBUG,e)},C.logInfo=function(e){C.log(C.INFO,e)},C.logWarn=function(e){C.log(C.WARN,e)},C.logError=function(e){C.log(C.ERROR,e)},C.LOG_METHOD_MAP={0:"debug",1:"info",2:"warn",3:"error"},C.log=function(e,t){C.logLevel<=e&&(e=C.LOG_METHOD_MAP[e],"undefined"!=typeof console)&&console[e]&&("debug"===e?console.debug(t):"info"===e?console.info(t):"warn"===e?console.warn(t):"error"===e?console.error(t):console.log(t))},C.checked=function(e,t){return C.attrProp(e,"checked",t)},C.disabled=function(e,t){return C.attrProp(e,"disabled",t)},C.attrProp=function(e,t,n){return void 0!==n&&(x(e).prop?x(e).prop(t,n):n?x(e).attr(t,n):x(e).removeAttr(t)),x(e).prop?x(e).prop(t):x(e).attr(t)},C.loadRefSchemaOptions=function(e,t,i){if(t)if("#"===t)i(e.schema,e.options);else if(0===t.indexOf("#/")){for(var n=t.substring(2).split("/"),r=e.schema,a=0;a<n.length;a++)if(r[o=n[a]])r=r[o];else if(r.properties&&r.properties[o])r=r.properties[o];else{if(!r.definitions||!r.definitions[o]){r=null;break}r=r.definitions[o]}for(var o,l=e.options,a=0;a<n.length;a++)if(l[o=n[a]])l=l[o];else if(l.fields&&l.fields[o])l=l.fields[o];else{if(!l.definitions||!l.definitions[o]){l=null;break}l=l.definitions[o]}i(r,l)}else{var s,u;0===t.indexOf("#")?(s=C.resolveReference(e.schema,e.options,t))?i(s.schema,s.options):i():(u=C.pathParts(t),e.connector.loadReferenceSchema(u.path,function(n){e.connector.loadReferenceOptions(u.path,function(e){var t;u.id&&(t=C.resolveReference(n,e,u.id))&&(n=t.schema,e=t.options),i(n,e)},function(){i(n)})},function(){i()}))}else i()},C.defaultErrorCallback=C.DEFAULT_ERROR_CALLBACK=function(e){if(e&&e.message)throw C.logError(JSON.stringify(e)),new Error("Alpaca caught an error with the default error handler: "+JSON.stringify(e))},C.throwDefaultError=function(e){e&&C.isObject(e)&&(e=JSON.stringify(e)),C.defaultErrorCallback({message:e})},C.throwErrorWithCallback=function(e,t){e={message:e=e&&C.isObject(e)?JSON.stringify(e):e};t?t(e):C.defaultErrorCallback(e)},C.resolveReference=function(e,t,n){var i;if(e.id===n||"#"+e.id===n)return i={},e&&(i.schema=e),t&&(i.options=t),i;if(e&&e.properties)for(var r in e.properties){var a=e.properties[r],o=null,r=(t&&t.fields&&t.fields[r]&&(o=t.fields[r]),C.resolveReference(a,o,n));if(r)return r}return null},x.alpaca=window.Alpaca=C,x.fn.alpaca=function(){var e=C.makeArray(arguments),e=[].concat(this,e),e=C.apply(this,e);return e=void 0===e?x(this):e},x.fn.outerHTML=function(e){return(e?x("<div></div>").append(this):x("<div></div>").append(this.clone())).html()},x.fn.swapWith=function(n){return this.each(function(){var e=x(n).clone(),t=x(this).clone();x(n).replaceWith(t),x(this).replaceWith(e)})},x.fn.attrProp=function(e,t){return C.attrProp(x(this),e,t)},x.event.special.destroyed={remove:function(e){e.handler&&e.handler()}},C.pathParts=function(e){var t,n;return"string"!=typeof e?e:(t=null,-1<(n=(e=e).indexOf("#"))&&(t=e.substring(n+1),e=e.substring(0,n)),C.endsWith(e,"/")&&(e=e.substring(0,e.length-1)),(n={}).path=e,t&&(n.id=t),n)},C.resolveField=function(e,t){var n=null;if("string"==typeof t&&!(0===t.indexOf("#/")&&2<propertyId.length))if("#"===t||"#/"===t)n=e;else if(0===t.indexOf("#")){for(var i=e;i.parent;)i=i.parent;var r=t.substring(1),n=C.resolveFieldByReference(i,r)}else n=e.childrenByPropertyId[t];return n},C.resolveFieldByReference=function(e,t){if(e.schema&&e.schema.id==t)return e;if(e.children&&0<e.children.length)for(var n=0;n<e.children.length;n++){var i=e.children[n],i=C.resolveFieldByReference(i,t);if(i)return i}return null},C.anyEquality=function(e,t){var n={};if("object"==typeof e||C.isArray(e))for(var i in e)n[e[i]]=!0;else n[e]=!0;var r=!1;if("object"==typeof t||C.isArray(t)){for(var i in t)if(n[t[i]]){r=!0;break}}else r=n[t];return r},C.series=function(e,t){"undefined"!=typeof async&&async.series(e,function(){t()})},C.nextTick=function(e){"undefined"!=typeof async&&async.nextTick(function(){e()})},C.compileValidationContext=function(e,t){for(var n=[],i=e;(i=i.isValidationParticipant()?i:null)&&n.push(i),i=i&&i.parent;);n.reverse();function l(e,a,t){var n,i,o,r;e&&0!==e.length?(n=e[0],(i={}).id=n.getId(),i.field=n,i.path=n.path,o=n.isContainer()?n.isValid(!0):n.isValid(),i.before=o,r=function(t,n,i){var r=t._previouslyValidated;t.validate(),t._validateCustomValidator(function(){var e=t.isValid();t.isContainer()&&(e=t.isValid(!0)),n.after=e,n.validated=!1,n.invalidated=!1,!o&&e?n.validated=!0:(o&&!e||!r&&!e)&&(n.invalidated=!0),n.container=t.isContainer(),n.valid=n.after,a.push(n),i()})},1<e.length?((e=e.slice(0)).shift(),l(e,a,function(){r(n,i,function(){t()})})):r(n,i,function(){t()})):t()}var r=[];l(n,r,function(){t(r)})},C.updateValidationStateForContext=function(e,t){for(var n=0;n<t.length;n++){var i,r=t[n],a=r.field;if(a.getFieldEl().removeClass("alpaca-invalid alpaca-invalid-hidden alpaca-valid"),a.fireCallback("clearValidity"),r.valid?(a.fireCallback("valid"),a.validation.notOptional.status?a.getFieldEl().addClass("alpaca-field-valid"):a.getFieldEl().addClass("alpaca-invalid")):a.options.readonly?C.logWarn("The field (id="+a.getId()+", title="+a.getTitle()+", path="+a.path+") is invalid and also read-only"):(i=!1,a.hideInitValidationError&&(i=!0),a.fireCallback("invalid",i),a.getFieldEl().addClass("alpaca-invalid"),i&&a.getFieldEl().addClass("alpaca-invalid-hidden")),r.validated?C.later(25,this,function(){a.trigger("validated")}):r.invalidated&&C.later(25,this,function(){a.trigger("invalidated")}),a.options.showMessages&&!a.initializing&&!a.options.readonly){var o,l=[];for(o in a.validation)a.validation[o].status||l.push({id:o,message:a.validation[o].message});a.displayMessage(l,a.valid)}}},C.fieldApplyFieldAndChildren=function(e,t){if(t(e),e.children&&0<e.children.length)for(var n=0;n<e.children.length;n++)C.fieldApplyFieldAndChildren(e.children[n],t)},C.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},C.asArray=function(e){var t;return C.isArray(e)?e:((t=[]).push(e),t)},function(){var n,e,d={};function l(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(n,arguments)}}null!=(n=this)&&(e=n.async),d.noConflict=function(){return n.async=e,d};function s(e,i){var r;return e.map?e.map(i):(r=[],y(e,function(e,t,n){r.push(i(e,t,n))}),r)}function h(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}function t(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[d.each].concat(e))}}function i(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[d.eachSeries].concat(e))}}function r(e,t,r,n){var a=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(n,i){r(n.value,function(e,t){a[n.index]=t,i(e)})},function(e){n(e,a)})}function a(e,t,i,n){var r=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(t,n){i(t.value,function(e){e&&r.push(t),n()})},function(e){n(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function o(e,t,i,n){var r=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(t,n){i(t.value,function(e){e||r.push(t),n()})},function(e){n(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function u(e,t,i,r){e(t,function(t,n){i(t,function(e){e?(r(t),r=function(){}):n()})},function(e){r()})}function c(e,t,n){var r;n=n||function(){},t.constructor===Array?e.map(t,function(e,n){e&&e(function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),n.call(null,e,t)})},n):(r={},e.each(h(t),function(n,i){t[n](function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),r[n]=t,i(e)})},function(e){n(e,r)}))}function p(e,t,i,n){var r=[];e(t,function(e,n){i(e,function(e,t){r=r.concat(t||[]),n(e)})},function(e){n(e,r)})}function f(n){return function(e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t.concat([function(e){var t=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[n]&&y(t,function(e){console[n](e)}))}]))}}function m(t,r){function e(){var n=this,i=Array.prototype.slice.call(arguments),e=i.pop();return t(r,function(e,t){e.apply(n,i.concat([t]))},e)}var n;return 2<arguments.length?(n=Array.prototype.slice.call(arguments,2),e.apply(this,n)):e}var y=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},g=("undefined"!=typeof process&&process.nextTick?(d.nextTick=process.nextTick,"undefined"!=typeof setImmediate?d.setImmediate=function(e){setImmediate(e)}:d.setImmediate=d.nextTick):("function"==typeof setImmediate?d.nextTick=function(e){setImmediate(e)}:d.nextTick=function(e){setTimeout(e,0)},d.setImmediate=d.nextTick),d.each=function(t,n,i){if(i=i||function(){},!t.length)return i();var r=0;y(t,function(e){n(e,l(function(e){e?(i(e),i=function(){}):(r+=1)>=t.length&&i(null)}))})},d.forEach=d.each,d.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();function i(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1)>=t.length?n(null):i()})}var r=0;i()},d.forEachSeries=d.eachSeries,d.eachLimit=function(e,t,n,i){g(t).apply(null,[e,n,i])},d.forEachLimit=d.eachLimit,function(l){return function(n,e,i){if(i=i||function(){},!n.length||l<=0)return i();var r=0,a=0,o=0;!function t(){if(r>=n.length)return i();for(;o<l&&a<n.length;)o+=1,e(n[(a+=1)-1],function(e){e?(i(e),i=function(){}):(--o,((r+=1)>=n.length?i:t)())})}()}}),v=(d.map=t(r),d.mapSeries=i(r),d.mapLimit=function(e,t,n,i){return v(t)(e,n,i)},function(e){return t=e,n=r,function(){var e=Array.prototype.slice.call(arguments);return n.apply(null,[g(t)].concat(e))};var t,n});d.reduce=function(e,i,t,n){d.eachSeries(e,function(e,n){t(i,e,function(e,t){i=t,n(e)})},function(e){n(e,i)})},d.inject=d.reduce,d.foldl=d.reduce,d.reduceRight=function(e,t,n,i){e=s(e,function(e){return e}).reverse();d.reduce(e,t,n,i)},d.foldr=d.reduceRight,d.filter=t(a),d.filterSeries=i(a),d.select=d.filter,d.selectSeries=d.filterSeries,d.reject=t(o),d.rejectSeries=i(o),d.detect=t(u),d.detectSeries=i(u),d.some=function(e,n,i){d.each(e,function(e,t){n(e,function(e){e&&(i(!0),i=function(){}),t()})},function(e){i(!1)})},d.any=d.some,d.every=function(e,n,i){d.each(e,function(e,t){n(e,function(e){e||(i(!1),i=function(){}),t()})},function(e){i(!0)})},d.all=d.every,d.sortBy=function(e,t,n){d.map(e,function(n,i){t(n,function(e,t){e?i(e):i(null,{value:n,criteria:t})})},function(e,t){if(e)return n(e);n(null,s(t.sort(function(e,t){e=e.criteria,t=t.criteria;return e<t?-1:t<e?1:0}),function(e){return e.value}))})},d.auto=function(r,l){l=l||function(){};var e=h(r);if(!e.length)return l(null);function s(e){p.unshift(e)}function u(){y(p.slice(0),function(e){e()})}var c={},p=[];s(function(){h(c).length===e.length&&(l(null,c),l=function(){})}),y(e,function(a){function e(e){var t,n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e?(t={},y(h(c),function(e){t[e]=c[e]}),t[a]=n,l(e,t),l=function(){}):(c[a]=n,d.setImmediate(u))}function t(){return i=function(e,t){return e&&c.hasOwnProperty(t)},r=!0,((e=o).reduce?e.reduce(i,r):(y(e,function(e,t,n){r=i(r,e,t,n)}),r))&&!c.hasOwnProperty(a);var e,i,r}var n,i=r[a]instanceof Function?[r[a]]:r[a],o=i.slice(0,Math.abs(i.length-1))||[];t()?i[i.length-1](e,c):s(n=function(){t()&&((e=>{for(var t=0;t<p.length;t+=1)if(p[t]===e)return p.splice(t,1)})(n),i[i.length-1](e,c))})})},d.waterfall=function(e,i){var t,r;return i=i||function(){},e.constructor!==Array?(t=new Error("First argument to waterfall must be an array of functions"),i(t)):e.length?void(r=function(n){return function(e){var t;e?(i.apply(null,arguments),i=function(){}):(t=Array.prototype.slice.call(arguments,1),(e=n.next())?t.push(r(e)):t.push(i),d.setImmediate(function(){n.apply(null,t)}))}})(d.iterator(e))():i()},d.parallel=function(e,t){c({map:d.map,each:d.each},e,t)},d.parallelLimit=function(e,t,n){c({map:v(t),each:g(t)},e,n)},d.series=function(e,t){var r;t=t||function(){},e.constructor===Array?d.mapSeries(e,function(e,n){e&&e(function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),n.call(null,e,t)})},t):(r={},d.eachSeries(h(e),function(n,i){e[n](function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),r[n]=t,i(e)})},function(e){t(e,r)}))},d.iterator=function(n){function i(e){function t(){return n.length&&n[e].apply(null,arguments),t.next()}return t.next=function(){return e<n.length-1?i(e+1):null},t}return i(0)},d.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}},d.concat=t(p),d.concatSeries=i(p),d.whilst=function(t,n,i){t()?n(function(e){if(e)return i(e);d.whilst(t,n,i)}):i()},d.doWhilst=function(t,n,i){t(function(e){if(e)return i(e);n()?d.doWhilst(t,n,i):i()})},d.until=function(t,n,i){t()?i():n(function(e){if(e)return i(e);d.until(t,n,i)})},d.doUntil=function(t,n,i){t(function(e){if(e)return i(e);n()?i():d.doUntil(t,n,i)})},d.queue=function(n,r){function i(t,e,n,i){e.constructor!==Array&&(e=[e]),y(e,function(e){e={data:e,callback:"function"==typeof i?i:null};n?t.tasks.unshift(e):t.tasks.push(e),t.saturated&&t.tasks.length===r&&t.saturated(),d.setImmediate(t.process)})}var a=0,o={tasks:[],concurrency:r=void 0===r?1:r,saturated:null,empty:null,drain:null,push:function(e,t){i(o,e,!1,t)},unshift:function(e,t){i(o,e,!0,t)},process:function(){var e,t;a<o.concurrency&&o.tasks.length&&(e=o.tasks.shift(),o.empty&&0===o.tasks.length&&o.empty(),a+=1,t=l(function(){--a,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+a===0&&o.drain(),o.process()}),n(e.data,t))},length:function(){return o.tasks.length},running:function(){return a}};return o},d.cargo=function(i,r){var a=!1,o=[],l={tasks:o,payload:r,saturated:null,empty:null,drain:null,push:function(e,t){e.constructor!==Array&&(e=[e]),y(e,function(e){o.push({data:e,callback:"function"==typeof t?t:null}),l.saturated&&o.length===r&&l.saturated()}),d.setImmediate(l.process)},process:function e(){var n,t;a||(0===o.length?l.drain&&l.drain():(n="number"==typeof r?o.splice(0,r):o.splice(0),t=s(n,function(e){return e.data}),l.empty&&l.empty(),a=!0,i(t,function(){a=!1;var t=arguments;y(n,function(e){e.callback&&e.callback.apply(null,t)}),e()})))},length:function(){return o.length},running:function(){return a}};return l},d.log=f("log"),d.dir=f("dir"),d.memoize=function(n,r){function e(){var e=Array.prototype.slice.call(arguments),t=e.pop(),i=r.apply(null,e);i in a?t.apply(null,a[i]):i in o?o[i].push(t):(o[i]=[t],n.apply(null,e.concat([function(){a[i]=arguments;var e=o[i];delete o[i];for(var t=0,n=e.length;t<n;t++)e[t].apply(null,arguments)}])))}var a={},o={};r=r||function(e){return e};return e.memo=a,e.unmemoized=n,e},d.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},d.times=function(e,t,n){for(var i=[],r=0;r<e;r++)i.push(r);return d.map(i,t,n)},d.timesSeries=function(e,t,n){for(var i=[],r=0;r<e;r++)i.push(r);return d.mapSeries(i,t,n)},d.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var i=this,e=Array.prototype.slice.call(arguments),n=e.pop();d.reduce(t,e,function(e,t,n){t.apply(i,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);n(e,t)}]))},function(e,t){n.apply(i,[e].concat(t))})}};function b(e){return e.constructor===String?"string":e.constructor===Boolean?"boolean":e.constructor===Number?isNaN(e)?"nan":"number":void 0===e?"undefined":null===e?"null":e instanceof Array?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":"object"==typeof e?"object":e instanceof Function?"function":void 0}d.applyEach=t(m),d.applyEachSeries=i(m),d.forever=function(n,i){!function e(t){if(t){if(i)return i(t);throw t}n(e)}()},window.async=d;var O,w,E;window.equiv=(w=[],E={string:x,boolean:x,number:x,null:x,undefined:x,nan:function(e){return isNaN(e)},date:function(e,t){return"date"===b(e)&&t.valueOf()===e.valueOf()},regexp:function(e,t){return"regexp"===b(e)&&t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline},function:function(){var e=w[w.length-1];return e!==Object&&void 0!==e},array:function(e,t){var n,i;if("array"!==b(e))return!1;if((i=t.length)!==e.length)return!1;for(n=0;n<i;n++)if(!O(t[n],e[n]))return!1;return!0},object:function(e,t){var n,i=!0,r=[],a=[];if(t.constructor!==e.constructor)return!1;for(n in w.push(t.constructor),t)r.push(n),O(t[n],e[n])||(i=!1);for(n in w.pop(),e)a.push(n);return i&&O(r.sort(),a.sort())}},O=function(){var e,t,n,i=Array.prototype.slice.apply(arguments);return i.length<2||((e=i[0])===(t=i[1])||null!==e&&null!==t&&void 0!==e&&void 0!==t&&b(e)===b(t)&&(n=E,e=[t,t=e],(t=b(t))?"function"===b(n[t])?n[t].apply(n,e):n[t]:void 0))&&arguments.callee.apply(this,i.splice(1,i.length-1))});function x(e,t){return e instanceof t.constructor||t instanceof e.constructor?t==e:t===e}}(),C.CLASS_CONTAINER="alpaca-container",C.CLASS_CONTROL="alpaca-control",C.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY="data-alpaca-container-field-item-key",C.MARKER_CLASS_CONTROL_FIELD="alpaca-marker-control-field",C.MARKER_CLASS_CONTAINER_FIELD="alpaca-marker-container-field",C.MARKER_CLASS_CONTAINER_FIELD_ITEM="alpaca-marker-control-field-item",C.MARKER_CLASS_FORM_ITEMS_FIELD="alpaca-marker-form-items-field",C.MARKER_CLASS_INSERT="alpaca-marker-insert",C.MARKER_DATA_INSERT_KEY="data-alpaca-marker-insert-key",C.MARKER_CLASS_ARRAY_TOOLBAR="alpaca-marker-array-field-toolbar",C.MARKER_DATA_ARRAY_TOOLBAR_FIELD_ID="data-alpaca-array-field-toolbar-field-id",C.MARKER_CLASS_ARRAY_ITEM_ACTIONBAR="alpaca-marker-array-field-item-actionbar",C.MARKER_DATA_ARRAY_ITEM_KEY="data-alpaca-marker-array-field-item-key",C.MARKER_DATA_ARRAY_ITEM_PARENT_FIELD_ID="data-alpaca-marker-array-field-item-parent-field-id",C.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD="alpaca-marker-container-field-item-field",C.makeCacheKey=function(e,t,n,i){return e+":"+t+":"+n+":"+i},C.splitCacheKey=function(e){var t={},n=e.indexOf(":"),i=e.lastIndexOf(":"),e=(t.viewId=e.substring(0,n),t.templateId=e.substring(i+1),e.substring(n+1,i)),n=e.indexOf(":");return t.scopeType=e.substring(0,n),t.scopeId=e.substring(n+1),t},C.createEmptyDataInstance=function(e){return e?"object"===e.type?{}:"array"===e.type?[]:"number"===e.type?-1:"boolean"!==e.type&&"":""},C.animatedSwap=function(e,t,n,i){"function"==typeof n&&(i=n,n=500);var r,a,o,l,s,u,c,p;t=t,n=n,r=i,a=x(i=e),o=x(t),i=a.offset(),t=o.offset(),l=a.clone(),s=o.clone(),e=t.top+o.height()-i.top,u=0,c=t.left+o.width()-i.left,p=0,a.css("opacity",0),o.css("opacity",0),l.insertAfter(a).css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).offset(i).css("z-index","999"),s.insertAfter(o).css({position:"absolute",width:o.outerWidth(),height:o.outerHeight()}).offset(t).css("z-index","999"),i.top!==t.top&&(u=e-a.height()),e=e-o.height(),i.left!==t.left&&(p=c-a.width()),i=c-o.width(),l.animate({top:"+="+u+"px",left:"+="+p+"px"},n,function(){o.css("opacity",1),x(this).remove()}),s.animate({top:"-="+e+"px",left:"-="+i+"px"},n,function(){a.css("opacity",1),x(this).remove()}),window.setTimeout(function(){l.remove(),s.remove(),r()},n+1)},C.readCookie=function(e){var t=null;return t="undefined"!=typeof document?(e=>{for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null})(e):t},C.CSRF_TOKEN=null,C.CSRF_COOKIE_NAMES=["CSRF-TOKEN","XSRF-TOKEN"],C.CSRF_HEADER_NAME="X-CSRF-TOKEN"})(jQuery),(()=>{var e,o=jQuery.alpaca;o.listenerId=(e=0,function(){return"listener-"+e++}),o.subscribe=function(){var e,t,n=o.makeArray(arguments),i=null,r=null,a=null,a=(r=(i=2==n.length?"global":n.shift(),n.shift()),n.shift());return(r=r&&o.isObject(r)?r.path:r)?((n=a._lfid)||(n=o.listenerId(),a._lfid=n),t=this,(e=function(){return a.apply(t,arguments)})._lfid=a._lfid,o.ScopedObservables.get(i).observable(r).subscribe(n,e),{scope:i,id:r,listenerId:n}):(o.logError("Missing observable subscribe id: "+r),null)},o.unsubscribe=function(){var e=o.makeArray(arguments),t=null,n=null,i=null,e=(2==e.length?(t="global",n=e.shift(),i=e.shift()):3==e.length&&(t=e.shift(),n=e.shift(),i=e.shift()),i);return o.isFunction(e)&&(e=e._lfid),(n=n&&o.isObject(n)?n.path:n)?(o.ScopedObservables.get(t).observable(n).unsubscribe(e),{scope:t,id:n,listenerId:e}):(o.logError("Missing observable id: "+n),null)},o.observable=function(){var e,t,n=o.makeArray(arguments);return 1==n.length?(t="global",e=n.shift()):2==n.length&&(t=n.shift(),e=n.shift()),(e=e&&o.isObject(e)?e.path:e)?(t=o.ScopedObservables.get(t),observable=t.observable(e)):o.logError("Missing observable id: "+JSON.stringify(n)),observable},o.clearObservable=function(){var e,t,n=o.makeArray(arguments);1==n.length?(e="global",t=n.shift()):2==n.length&&(e=n.shift(),t=n.shift()),(t=t&&o.isObject(t)?t.path:t)||o.logError("Missing observable id: "+JSON.stringify(n)),o.ScopedObservables.get(e).observable(t).clear()},o.dependentObservable=function(){var e=null,t=null,n=null,i=o.makeArray(arguments);if(2==i.length)e="global";else{if(3!=i.length)return void o.error("Wrong number of arguments");e=i.shift()}return t=i.shift(),n=i.shift(),(t=t&&o.isObject(t)?t.path:t)||o.logError("Missing observable id: "+JSON.stringify(i)),o.ScopedObservables.get(e).dependentObservable(t,n)}})(),(()=>{var a=jQuery.alpaca;a.Observables=Base.extend({constructor:function(e){this.base(),this.scope=e,this.observables={}},observable:function(e,t){var n;return this.observables[e]||(n=new a.Observable(this.scope,e),t&&n.set(t),this.observables[e]=n),this.observables[e]},dependentObservable:function(e,t){var n,i,r=this;return this.observables[e]||(n=this.observable(e),(i=new a.Observables(this.scope)).observable=function(e,t){e=r.observable(e,t);return e.markDependentOnUs(n),e},n.setValueFunction(function(){return t.call(i)})),this.observables[e]},observables:function(){return this.observables}})})(),(r=>{r.alpaca.Observable=Base.extend({constructor:function(e,t){this.base(),this.id=e+"-"+t,this.value=null,this.subscribers={},this.dependentOnUs={},this.notifySubscribers=function(n){var i=this;r.each(this.subscribers,function(e,t){t(i.value,n)})},this.notifyDependents=function(e){r.each(this.dependentOnUs,function(e,t){t.onDependencyChange()})},this.valueFunction=null},setValueFunction:function(e){this.valueFunction=e,this.onDependencyChange()},subscribe:function(e,t){this.isSubscribed(e)||(this.subscribers[e]=t)},unsubscribe:function(e){delete this.subscribers[e]},isSubscribed:function(e){return!!this.subscribers[e]},markDependentOnUs:function(e){this.dependentOnUs[e.id]=e},onDependencyChange:function(){var e=this.get();this.valueFunction&&e!=(e=this.valueFunction())&&this.set(e)},set:function(e){var t=this.value;this.value=e,this.notifyDependents(t),this.notifySubscribers(t)},get:function(e){return this.value||e},clear:function(){var e=this.value;delete this.value,this.notifyDependents(e),this.notifySubscribers(e)}})})(jQuery),(()=>{var t=jQuery.alpaca;t.ScopedObservables={},t.ScopedObservables.map={},t.ScopedObservables.get=function(e){return t.ScopedObservables.map[e]||(t.ScopedObservables.map[e]=new t.Observables(e)),t.ScopedObservables.map[e]}})(),(()=>{var a;Alpaca.TemplateEngineRegistry=(a={},{register:function(e,t){(a[e]=t).init()},find:function(e){var t=null;if(a[e])t=a[e];else for(var n in a)for(var i=a[n].supportedMimetypes(),r=0;r<i.length;r++)if(e.toLowerCase()===i[r].toLowerCase()){t=a[n];break}return t},ids:function(){var e,t=[];for(e in a)t.push(e);return t}})})(),(a=>{Alpaca.AbstractTemplateEngine=Base.extend({constructor:function(e){this.base(),this.id=e,this.cleanup=function(e){return e&&1===a(e).length&&"script"===a(e)[0].nodeName.toLowerCase()?a(e).html():e}},compile:function(e,t,n){var i,r="html";Alpaca.isString(t)&&(i=t.toLowerCase(),Alpaca.isUri(i)?r="uri":0!==t.indexOf("#")&&0!==t.indexOf(".")&&0!==t.indexOf("[")||(r="selector")),"selector"===r?this._compile(e,t,function(e){n(e)}):"uri"===r?(i=this.fileExtension(),t.indexOf("."+i)):"html"===r?((i=t)instanceof jQuery&&(i=a(i).outerHTML()),this._compile(e,i,function(e){n(e)})):n(new Error("Template engine cannot determine how to handle type: "+r))},_compile:function(e,t,n){Alpaca.isEmpty(t)&&(t=""),0!==(t=Alpaca.trim(t)).toLowerCase().indexOf("<script")&&(t="<script type='"+this.supportedMimetypes()[0]+"'>"+t+"<\/script>"),Alpaca.logDebug("Compiling template: "+this.id+", cacheKey: "+e+", template: "+t),this.doCompile(e,t,n)},doCompile:function(e,t,n){},execute:function(e,t,n){Alpaca.logDebug("Executing template for cache key: "+e);e=this.doExecute(e,t,n);return this.cleanup(e)},doExecute:function(e,t,n){return null},fileExtension:function(){return"html"},supportedMimetypes:function(){return[]},isCached:function(e){return!1},findCacheKeys:function(e){return[]}})})(jQuery),function($,Handlebars,HandlebarsPrecompiled){var COMPILED_TEMPLATES={},helpers={compare:function(e,t,n){if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");var i=n.hash.operator||"==",r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return t<e},"<=":function(e,t){return e<=t},">=":function(e,t){return t<=e},typeof:function(e,t){return typeof e==t}};if(r[i])return r[i](e,t)?n.fn(this):n.inverse(this);throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+i)},times:function(e,t){for(var n="",i=0;i<e;++i)n+=t.fn(i);return n},control:function(e){return"<div class='"+Alpaca.MARKER_CLASS_CONTROL_FIELD+"'></div>"},container:function(e){return"<div class='"+Alpaca.MARKER_CLASS_CONTAINER_FIELD+"'></div>"},item:function(e,t){return Alpaca.isObject(e)&&(e="div"),"<"+e+" class='"+Alpaca.MARKER_CLASS_CONTAINER_FIELD_ITEM+"' "+Alpaca.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY+"='"+this.name+"'></"+e+">"},itemField:function(e,t){return Alpaca.isObject(e)&&(e="div"),"<"+e+" class='"+Alpaca.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD+"'></"+e+">"},formItems:function(e){return"<div class='"+Alpaca.MARKER_CLASS_FORM_ITEMS_FIELD+"'></div>"},insert:function(e){return"<div class='"+Alpaca.MARKER_CLASS_INSERT+"' "+Alpaca.MARKER_DATA_INSERT_KEY+"='"+e+"'></div>"},str:function(e){return!1===e?"false":!0===e?"true":0===e?"0":null==e?"":!Alpaca.isString(e)&&!Alpaca.isNumber(e)&&(Alpaca.isObject(e)||Alpaca.isArray(e))?JSON.stringify(e,null,"  "):e},arrayToolbar:function(e){return" "},arrayActionbar:function(e){return" "}},partials=(Handlebars.registerHelper("arrayToolbar",helpers.arrayToolbar),Handlebars.registerHelper("arrayActionbar",helpers.arrayActionbar),Handlebars.registerHelper("setIndex",function(e){this.index=Number(e)}),Handlebars.registerHelper("eachProperty",function(e,t){var n,i="";for(n in e)i+=t.fn({key:n,value:e[n]});return i}),Handlebars.registerHelper("uploadErrorMessage",function(e){var t=e;return 1===e?t="File exceeds upload_max_filesize":2===e?t="File exceeds MAX_FILE_SIZE":3===e?t="File was only partially uploaded":4===e?t="No File was uploaded":5===e?t="Missing a temporary folder":6===e?t="Failed to write file to disk":7===e?t="File upload stopped by extension":"maxFileSize"===e?t="File is too big":"minFileSize"===e?t="File is too small":"acceptFileTypes"===e?t="Filetype not allowed":"maxNumberOfFiles"===e?t="Max number of files exceeded":"uploadedBytes"===e?t="Uploaded bytes exceed file size":"emptyResult"===e&&(t="Empty file upload result"),t}),Handlebars.registerHelper("disguise",function(e,t){for(var n="",i=0;i<e.length;i++)n+=t;return n}),Handlebars.registerHelper("compare",helpers.compare),Handlebars.registerHelper("control",helpers.control),Handlebars.registerHelper("container",helpers.container),Handlebars.registerHelper("item",helpers.item),Handlebars.registerHelper("itemField",helpers.itemField),Handlebars.registerHelper("formItems",helpers.formItems),Handlebars.registerHelper("times",helpers.times),Handlebars.registerHelper("str",helpers.str),{});Alpaca.HandlebarsTemplateEngine=Alpaca.AbstractTemplateEngine.extend({fileExtension:function(){return"html"},supportedMimetypes:function(){return["text/x-handlebars-template","text/x-handlebars-tmpl"]},init:function(){if(HandlebarsPrecompiled)for(var e in HandlebarsPrecompiled){var t,n=HandlebarsPrecompiled[e];for(t in n){var i,r=n[t];"function"==typeof r&&(i=Alpaca.makeCacheKey(e,"view",e,t),COMPILED_TEMPLATES[i]=r)}}},doCompile:function(cacheKey,html,callback){var self=this,template=null;try{var functionString=Handlebars.precompile(html),template=eval("("+functionString+")");template=Handlebars.template(template),COMPILED_TEMPLATES[cacheKey]=template}catch(e){return void callback(e)}callback()},doExecute:function(e,t,n){var i=COMPILED_TEMPLATES[e];if(i){var r=null;try{r=i(t)}catch(e){return n(e),null}return r}n(new Error("Could not find handlebars cached template for key: "+e))},isCached:function(e){return!!COMPILED_TEMPLATES[e]},findCacheKeys:function(e){var t,n=[];for(t in COMPILED_TEMPLATES)0===t.indexOf(e+":")&&n.push(t);return n}}),Alpaca.TemplateEngineRegistry.register("handlebars",new Alpaca.HandlebarsTemplateEngine("handlebars"))}(jQuery,void 0!==Handlebars?Handlebars:window.Handlebars,"undefined"!=typeof HandlebarsPrecompiled?HandlebarsPrecompiled:window.HandlebarsPrecompiled),(()=>{var p=jQuery.alpaca;p.NormalizedView=Base.extend({constructor:function(e){this.id=e},normalize:function(e){var t=e[this.id];if(!t)return p.logError("View compilation failed - view not found: "+this.id),!1;for(var n=[],i=t;i;){n.push(i);var r=i.parent;if(r){var a=e[i.parent];if(!a)return p.logError("View compilation failed - cannot find parent view: "+r+" for view: "+i.id),!1;i=a}else i=null}for(var n=n.reverse(),o=function(e,t,n){var t=t[n],i=e[n];p.isUndefined(i)||p.isUndefined(t)||p.logDebug("View property: "+n+" already has value: "+i+" and overwriting to: "+t),p.isUndefined(t)||(e[n]=t)},l=function(e,t,n){var t=t[n],i=e[n];p.isUndefined(i)||p.isUndefined(t)||p.logDebug("View property: "+n+" already has function, overwriting"),p.isUndefined(t)||(e[n]=t)},s=function(e,t,n){t=t[n];t&&(e[n]||(e[n]={}),p.mergeObject2(t,e[n]))},u=0;u<n.length;u++){var c=n[u];o(this,c,"type"),o(this,c,"ui"),o(this,c,"displayReadonly"),o(this,c,"locale"),l(this,c,"render"),l(this,c,"postRender"),s(this,c,"templates"),s(this,c,"fields"),s(this,c,"styles"),s(this,c,"callbacks"),s(this,c,"messages"),o(this,c,"horizontal"),o(this,c,"collapsible"),o(this,c,"legendStyle"),o(this,c,"toolbarStyle"),o(this,c,"buttonStyle"),o(this,c,"toolbarSticky"),o(this,c,"globalTemplate")}return p.logDebug("View compilation complete for view: "+this.id),p.logDebug("Final view: "),p.logDebug(JSON.stringify(this,null,"   ")),!0}})})(),(n=>{var a=n.alpaca;a.RuntimeView=Base.extend({constructor:function(e,t){this.field=t,this.setView(e)},setView:function(e){var t,n=a.getNormalizedView(e=e||"web-edit");if(!n)throw new Error("Runtime view for view id: "+e+" could not find a normalized view");for(t in n)n.hasOwnProperty(t)&&(this[t]=n[t])},getGlobalTemplateDescriptor:function(){return this.getTemplateDescriptor("globalTemplate")},getTemplateDescriptor:function(e,t){return a.getTemplateDescriptor(this,e,t)},getMessage:function(e,t){t=t||a.defaultLocale;t=this.getViewParam(["messages",t,e]);return t=a.isEmpty(t)?this.getViewParam(["messages",e]):t},getViewParam:function(e,t){var n=this.field.path;if(this.fields&&this.fields[n]){var i=this._getConfigVal(this.fields[n],e);if(!a.isEmpty(i))return i}if(n&&-1!==n.indexOf("[")&&-1!==n.indexOf("]")){var r=n.replace(/\[\d+\]/g,"[*]");if(this.fields&&this.fields[r]){i=this._getConfigVal(this.fields[r],e);if(!a.isEmpty(i))return i}}if(n&&-1!==n.indexOf("[")&&-1!==n.indexOf("]")){r=n.replace(/\[\d+\]/g,"");if(this.fields&&this.fields[r]){i=this._getConfigVal(this.fields[r],e);if(!a.isEmpty(i))return i}}return!a.isEmpty(t)&&t&&"/"!==this.field.path?null:this._getConfigVal(this,e)},_getConfigVal:function(e,t){if(a.isArray(t))for(var n=0;n<t.length&&!a.isEmpty(e);n++)e=e[t[n]];else a.isEmpty(e)||(e=e[t]);return e},fireCallback:function(e,t,n,i,r,a,o){this.callbacks&&this.callbacks[t]&&this.callbacks[t].call(e,n,i,r,a,o)},applyStyle:function(e,t){(t=t&&t.getFieldEl?t.getFieldEl():t)&&this.styles&&this.styles[e]&&n(t).addClass(this.styles[e])},getStyle:function(e){return this.styles[e]||""}})})(jQuery),(l=>{var d=l.alpaca;d.Field=Base.extend({constructor:function(e,t,n,i,r,a,o){var l=this;this.initializing=!0,this.domEl=e,this.parent=null,this.data=t,this.options=n,this.schema=i,this.connector=a,this.errorCallback=function(e){o?o(e):d.defaultErrorCallback.call(l,e)},this.singleLevelRendering=!1,this.view=new d.RuntimeView(r,this),this.options||(this.options={}),this.id=this.options.id,this.type=this.options.type,this.id||(this.id=d.generateId());if(this.schema||(this.schema={}),this.options.label||null===this.schema.title||(this.options.label=this.schema.title),this.options.helpers||(this.options.helpers=[]),this.options.helper){if(d.isArray(this.options.helper))for(var s=0;s<this.options.helper.length;s++)this.options.helpers.push(this.options.helper[s]);else this.options.helpers.push(this.options.helper);delete this.options.helper}d.isEmpty(this.options.readonly)&&!d.isEmpty(this.schema.readonly)&&(this.options.readonly=this.schema.readonly),d.isValEmpty(this.data)&&!d.isEmpty(this.schema.default)&&(this.data=this.schema.default,this.showingDefaultData=!0),this.path="/",this.validation={},this._events={},this.isDisplayOnly=function(){return"view"===l.view.type||"display"==l.view.type},this.schema&&this.schema.id&&0===this.schema.id.indexOf("#")&&(this.schema.id=this.schema.id.substring(1)),this._previouslyValidated=!1,this.updateObservable=function(){this.data?this.observable(this.path).set(this.data):this.observable(this.path).clear()},this.getObservableScope=function(){for(var e=this;!e.isTop();)e=e.parent;return e.observableScope||"global"},this.ensureProperType=function(e){return void 0!==e&&(d.isString(e)?"number"===this.schema.type?e=parseFloat(e):"boolean"===this.schema.type&&(e=""!==e&&"false"!==e.toLowerCase()):d.isNumber(e)&&("string"===this.schema.type?e=""+e:"boolean"===this.schema.type&&(e=-1!==e&&0!==e))),e},this.onConstruct()},onConstruct:function(){},isTop:function(){return!this.parent},getTemplateDescriptorId:function(){throw new Error("Template descriptor ID was not specified")},initTemplateDescriptor:function(){var e=this.view.getTemplateDescriptor(this.getTemplateDescriptorId(),this),t=this.view.getGlobalTemplateDescriptor(),n=!1;if(this.isTop()&&t&&(this.setTemplateDescriptor(t),n=this.singleLevelRendering=!0),!n&&e&&this.setTemplateDescriptor(e),!this.getTemplateDescriptor())return d.throwErrorWithCallback("Unable to find template descriptor for field: "+this.getFieldType())},setup:function(){this.initializing||(this.data=this.getValue()),this.initTemplateDescriptor(),d.isUndefined(this.schema.required)&&(this.schema.required=!1),d.isUndefined(this.options.validate)&&(this.options.validate=!0),d.isUndefined(this.options.disabled)&&(this.options.disabled=!1),d.isUndefined(this.options.showMessages)&&(this.options.showMessages=!0)},on:function(e,t){return d.logDebug("Adding listener for event: "+e),this._events[e]||(this._events[e]=[]),this._events[e].push(t),this},triggerWithPropagation:function(e,t){this.trigger.call(this,e,t),this.parent&&this.parent.triggerWithPropagation.call(this.parent,e,t)},trigger:function(t,e,n,i,r){var a=this._events[t];if(a)for(var o=0;o<a.length;o++){var l=a[o];if("function"==typeof l){d.logDebug("Firing event: "+t);try{l.call(this,e,n,i,r)}catch(e){d.logDebug("The event handler caught an exception: "+t),d.logDebug(e)}}}},bindData:function(){d.isEmpty(this.data)||d.isObject(this.data)||this.setValue(this.data)},render:function(e,t){e&&(d.isString(e)||d.isObject(e))?this.view.setView(e):d.isEmpty(t)&&d.isFunction(e)&&(t=e),null===this.options.label&&this.propertyId&&(this.options.label=this.propertyId),this.options.name&&(this.name=this.options.name),this.calculateName(),this.setup(),this._render(t)},calculateName:function(){var e;this.name&&(this.name,!this.nameCalculated)||(this.parent&&this.parent.name&&this.path?(e=-1!==(e=this.path.substring(this.path.lastIndexOf("/")+1)).indexOf("[")&&-1!==e.indexOf("]")?e.substring(e.indexOf("[")+1,e.indexOf("]")):e)&&(this.name=this.parent.name+"_"+e,this.nameCalculated=!0):this.path&&(this.name=this.path.replace(/\//g,"").replace(/\[/g,"_").replace(/\]/g,""),this.nameCalculated=!0))},_render:function(n){var i=this;i.options.form&&d.isObject(i.options.form)?(i.options.form.viewType=this.view.type,(i.form||new d.Form(i.domEl,this.options.form,i.view.id,i.connector,i.errorCallback)).render(function(e){var t=l("<div></div>");i._processRender(t,function(){e.formFieldsContainer.before(i.field),e.formFieldsContainer.remove(),(e.topControl=i).view.type&&"view"!==i.view.type&&e.initEvents(),i.form=e,i.postRender(function(){i.initializing=!1,i.form&&i.form.afterInitialize(),n&&d.isFunction(n)&&n(i)})})})):this._processRender(i.domEl,function(){i.postRender(function(){i.initializing=!1,n&&d.isFunction(n)&&n(i)})})},_processRender:function(e,t){var n=this;n.renderField(e,function(){n.fireCallback("field"),n.renderFieldElements(function(){t()})})},renderFieldDomElement:function(e){var t=this.getTemplateDescriptor();return d.tmpl(t,{id:this.getId(),options:this.options,schema:this.schema,data:e,view:this.view,path:this.path,name:this.name})},renderField:function(e,t){var n=this.data,i=(this.isDisplayOnly()&&"object"==typeof n&&(n=JSON.stringify(n)),this.renderFieldDomElement(n));if(0<l(i).length){for(var r=null,a=0;a<l(i).length;a++){var o=l(i)[a].nodeName;if(o&&("div"===(o=o.toLowerCase())||"span"===o)){r=l(l(i)[a]);break}}(r=r||l(l(i).last()))&&(i=r)}this._oldFieldEl=this.field,this.field=i,this.field.appendTo(e),t()},renderFieldElements:function(e){e()},updateDOMElement:function(){this.field.attr("data-alpaca-field-path",this.getPath()),this.field.attr("data-alpaca-field-name",this.getName()),this.field.removeAttr("name")},postRender:function(e){var t=this;if(this.field.addClass("alpaca-field"),this.field.addClass("alpaca-field-"+this.getFieldType()),this.field.attr("data-alpaca-field-id",this.getId()),this.updateDOMElement(),"view"!==this.view.type){this.isRequired()?(l(this.field).addClass("alpaca-required"),t.fireCallback("required")):(l(this.field).addClass("alpaca-optional"),t.fireCallback("optional"));var n=function(){d.disabled(l(":input",t.field),!0),d.disabled(l("select",t.field),!0),d.disabled(l(":radio",t.field),!0),d.disabled(l(":checkbox",t.field),!0),l(":radio",t.field).off().click(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1}),l(".radio label",t.field).off().click(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1}),l(":input",t.field).off().click(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1})},i=(this.options.readonly&&(l(this.field).addClass("alpaca-readonly"),l(":input",this.field).attr("readonly","readonly"),n(),t.fireCallback("readonly")),this.options.disabled&&(l(this.field).addClass("alpaca-disabled"),n(),t.fireCallback("disabled")),this.field),r=this.options.fieldClass;if(r){var a=0,o=null;if(d.isArray(r))for(a=0;a<r.length;a++)i.addClass(r[a]);else if(-1<r.indexOf(","))for(o=r.split(","),a=0;a<o.length;a++)i.addClass(o[a]);else if(-1<r.indexOf(" "))for(o=r.split(" "),a=0;a<o.length;a++)i.addClass(o[a]);else i.addClass(r)}this.options.disabled&&(this.disable(),t.fireCallback("disable")),(this.view.type&&"edit"===this.view.type||this.showingDefaultData)&&this.bindData(),this.view.type&&"view"!==this.view.type&&this.initEvents()}this.options.hidden&&this.field.hide(),this.hideInitValidationError=!d.isValEmpty(this.options.hideInitValidationError)&&this.options.hideInitValidationError,this.view.displayReadonly||l(this.field).find(".alpaca-readonly").hide(),this.options.postRender?this.options.postRender.call(this,function(){e()}):e()},refresh:function(e){var t=this,n=(t.refreshed=!0,l("<div></div>"));l(t.field).before(n),t.domEl=l("<div></div>"),t.setup(),t._render(function(){l(n).before(t.domEl.children()),l(n).remove(),t._oldFieldEl&&l(t._oldFieldEl).remove(),e&&e()})},applyStyle:function(e,t){this.view.applyStyle(e,t)},fireCallback:function(e,t,n,i,r,a){this.view.fireCallback(this,e,t,n,i,r,a)},getFieldEl:function(){return this.field},getId:function(){return this.id},getParent:function(){return this.parent},getPath:function(){return this.path},getName:function(){return this.name},isTopLevel:function(){return d.isEmpty(this.parent)},top:function(){for(var e=this;e.parent;)e=e.parent;return e},getValue:function(){var e=this.data;return this.ensureProperType(e)},setValue:function(e){this.data=e,this.updateObservable(),this.triggerUpdate(),this.isDisplayOnly()&&!this.initializing&&this.refresh()},setDefault:function(){},getTemplateDescriptor:function(){return this.templateDescriptor},setTemplateDescriptor:function(e){this.templateDescriptor=e},displayMessage:function(e,t){var i=this;(e=e&&d.isObject(e)?[e]:e)&&d.isString(e)&&(e=[{id:"custom",message:e}]),l(this.getFieldEl()).children(".alpaca-message").remove(),e&&0<e.length&&this.options.maxMessages&&d.isNumber(this.options.maxMessages)&&-1<this.options.maxMessages&&(e=e.slice(0,this.options.maxMessages)),i.fireCallback("removeMessages"),e&&0<e.length&&l.each(e,function(e,t){var n=i.view.getTemplateDescriptor("message");n&&((n=d.tmpl(n,{id:t.id,message:t.message,view:i.view})).addClass("alpaca-message"),l(i.getFieldEl()).append(n)),i.fireCallback("addMessage",e,t.id,t.message,!1)})},refreshValidationState:function(e,u){function i(e,n){return function(t){d.compileValidationContext(e,function(e){n.push(e),t()})}}var r,c=this,p=[],a=[];e&&(r=function(e,t){if(e.isValidationParticipant()){if(e.children&&0<e.children.length)for(var n=0;n<e.children.length;n++)r(e.children[n],t);a.push(i(e,t))}})(this,p),a.push(i(this,p)),d.series(a,function(e){for(var t={},n=[],i=0;i<p.length;i++)for(var r=p[i],a=n.length,o=0;o<r.length;o++){var l=r[o],s=t[l.id];s?(l.validated&&!s.invalidated&&(s.validated=!0,s.invalidated=!1,s.valid=l.valid),l.invalidated&&(s.invalidated=!0,s.validated=!1,s.valid=l.valid)):((s={}).id=l.id,s.path=l.path,s.domEl=l.domEl,s.field=l.field,s.validated=l.validated,s.invalidated=l.invalidated,s.valid=l.valid,n.splice(a,0,s),t[s.id]=s)}n.reverse(),c.hideInitValidationError||d.updateValidationStateForContext(c.view,n),u&&u()})},getMessage:function(e){return this.view.getMessage(e,this.view.locale)},validate:function(e){var t=!0;if(!this.initializing&&this.options.validate){if(this.children&&e)for(var n=0;n<this.children.length;n++){var i=this.children[n];i.isValidationParticipant()&&i.validate(e)}if(!(t=this.handleValidate())&&d.logLevel==d.DEBUG){var r,a=[];for(r in this.validation)this.validation[r].status||a.push(this.validation[r].message);d.logDebug("Validation failure for field (id="+this.getId()+", path="+this.path+"), messages: "+JSON.stringify(a))}}return this._previouslyValidated=!0,t},handleValidate:function(){var e=this.validation,t=this._validateOptional();return e.notOptional={message:t?"":this.getMessage("notOptional"),status:t},t=this._validateDisallow(),e.disallowValue={message:t?"":d.substituteTokens(this.getMessage("disallowValue"),[this.schema.disallow.join(", ")]),status:t},e.notOptional.status&&e.disallowValue.status},_validateCustomValidator:function(t){var n=this;this.options.validator&&d.isFunction(this.options.validator)?this.options.validator.call(this,function(e){n.validation.custom=e,t()}):t()},_validateOptional:function(){if(this.isRequired()&&this.isEmpty())return!1;if(this.options.disallowOnlyEmptySpaces&&(""+this.getValue()).match(d.regexps.whitespace))return!1;return!0},_validateDisallow:function(){var n,e,i;return!!d.isValEmpty(this.schema.disallow)||(n=this.getValue(),e=this.schema.disallow,d.isArray(e)?(i=!0,l.each(e,function(e,t){(d.isObject(n)||d.isArray(n)&&d.isString(t))&&(t=d.parseJSON(t)),d.compareObject(n,t)&&(i=!1)}),i):((d.isObject(n)||d.isArray(n)&&d.isString(e))&&(e=d.parseJSON(e)),!d.compareObject(n,e)))},triggerUpdate:function(){l(this.field).trigger("fieldupdate")},disable:function(){},enable:function(){},focus:function(e){e&&e(this)},destroy:function(){d.observable(this.path).clear(),d&&d.fieldInstances&&d.fieldInstances[this.getId()]&&delete d.fieldInstances[this.getId()],l(this.field).remove()},show:function(){this.options&&this.options.hidden||(l(this.field).css({display:""}),this.onShow(),this.fireCallback("show"))},onShow:function(){},hide:function(){l(this.field).css({display:"none"}),this.onHide(),this.fireCallback("hide")},onHide:function(){},isValidationParticipant:function(){return this.isShown()},isShown:function(){return this.isVisible()},isVisible:function(){return!this.isHidden()},isHidden:function(){return"none"===l(this.field).css("display")},print:function(){this.getFieldEl().printArea&&this.getFieldEl().printArea()},onDependentReveal:function(){},onDependentConceal:function(){},reload:function(){this.initializing=!0,d.isEmpty(this.callback)?this.render(this.renderedCallback):this.callback(this,this.renderedCallback)},clear:function(){var e=null;this.data&&(e=this.data),this.setValue(e)},isEmpty:function(){return d.isValEmpty(this.getValue())},isValid:function(e){if(e&&this.children)for(var t=0;t<this.children.length;t++){var n=this.children[t];if(n.isValidationParticipant()&&!n.isValid(e))return!1}if(!l.isEmptyObject(this.validation))for(var i in this.validation)if(!this.validation[i].status)return!1;return!0},initEvents:function(){var n=this;this.field&&(this.field.mouseover(function(e){n.onMouseOver.call(n,e),n.trigger("mouseover",e)}),this.field.mouseout(function(e){n.onMouseOut.call(n,e),n.trigger("mouseout",e)}),this.options)&&this.options.events&&l.each(this.options.events,function(e,t){d.isFunction(t)&&n.field.on(e,function(e){t.call(n,e)})})},onFocus:function(e){l(this.field).removeClass("alpaca-field-empty"),l(this.field).addClass("alpaca-field-focused")},onBlur:function(e){var t=l(this.field).hasClass("alpaca-field-focused");l(this.field).removeClass("alpaca-field-focused"),t&&this.refreshValidationState(),l(this.field).trigger("fieldblur")},onChange:function(e){this.data=this.getValue(),this.updateObservable(),this.triggerUpdate()},onMouseOver:function(e){},onMouseOut:function(e){},getControlByPath:function(e){var t=null;if(e){0===e.indexOf("/")&&(e=e.substring(1));for(var n=this,i=(e=d.endsWith(e,"/")?e.substring(0,e.length-1):e).split("/"),r=0;r<i.length;r++){var a,o=i[r];n=0===o.indexOf("[")?(a=parseInt(o.substring(1,o.length-1),10),n.children[a]):n.childrenByPropertyId[o]}t=n}return t},subscribe:function(){var e=d.makeArray(arguments);return e.unshift(this.getObservableScope()),d.subscribe.apply(this,e)},unsubscribe:function(){var e=d.makeArray(arguments);return e.unshift(this.getObservableScope()),d.unsubscribe.apply(this,e)},observable:function(){var e=d.makeArray(arguments);return e.unshift(this.getObservableScope()),d.observable.apply(this,e)},clearObservable:function(){var e=d.makeArray(arguments);return e.unshift(this.getObservableScope()),d.clearObservable.apply(this,e)},dependentObservable:function(){var e=d.makeArray(arguments);return e.unshift(this.getObservableScope()),d.dependentObservable.apply(this,e)},getType:function(){},getFieldType:function(){return""},getBaseFieldType:function(){var e=null,t=this.constructor.ancestor.prototype;return e=t&&t.getFieldType?t.getFieldType():e},isContainer:function(){return!1},isRequired:function(){var e=!1;if("boolean"==typeof this.schema.required&&(e=this.schema.required),this.parent&&this.parent.schema.required&&d.isArray(this.parent.schema.required)){var t=this.parent.schema.required;if(t)for(var n=0;n<t.length;n++)if(t[n]===this.propertyId){e=!0;break}}return e},getTitle:function(){},getDescription:function(){},getSchemaOfSchema:function(){var e={title:this.getTitle(),description:this.getDescription(),type:"object",properties:{title:{title:"Title",description:"Short description of the property.",type:"string"},description:{title:"Description",description:"Detailed description of the property.",type:"string"},readonly:{title:"Readonly",description:"Indicates that the field is read-only.  A read-only field cannot have it's value changed.  Read-only fields render in a grayed-out or disabled control.  If the field is rendered using a view with the <code>displayReadonly</code> attribute set to false, the read-only field will not appear.",type:"boolean",default:!1},required:{title:"Required",description:"Indicates whether the field's value is required.  If set to true, the field must take on a valid value and cannnot be left empty or unassigned.",type:"boolean",default:!1},default:{title:"Default",description:"The default value to be assigned for this property.  If the data for the field is empty or not provided, this default value will be plugged in for you.  Specify a default value when you want to pre-populate the field's value ahead of time.",type:"any"},type:{title:"Type",description:"Data type of the property.",type:"string",readonly:!0},format:{title:"Format",description:"Data format of the property.",type:"string"},disallow:{title:"Disallowed Values",description:"List of disallowed values for the property.",type:"array"},dependencies:{title:"Dependencies",description:"List of property dependencies.",type:"array"}}};return this.getType&&!d.isValEmpty(this.getType())&&(e.properties.type.default=this.getType(),e.properties.type.enum=[this.getType()]),e},getSchemaOfOptions:function(){var e={title:"Options for "+this.getTitle(),description:this.getDescription()+" (Options)",type:"object",properties:{form:{},id:{title:"Field Id",description:"Unique field id. Auto-generated if not provided.",type:"string"},type:{title:"Field Type",description:"Field type.",type:"string",default:this.getFieldType(),readonly:!0},validate:{title:"Validation",description:"Field validation is required if true.",type:"boolean",default:!0},showMessages:{title:"Show Messages",description:"Display validation messages if true.",type:"boolean",default:!0},disabled:{title:"Disabled",description:"Field will be disabled if true.",type:"boolean",default:!1},readonly:{title:"Readonly",description:"Field will be readonly if true.",type:"boolean",default:!1},hidden:{title:"Hidden",description:"Field will be hidden if true.",type:"boolean",default:!1},label:{title:"Label",description:"Field label.",type:"string"},helper:{title:"Helper",description:"Field help message.",type:"string"},helpers:{title:"Helpers",description:"An array of field help messages.  Each message will be displayed on it's own line.",type:"array",items:{type:"string"}},fieldClass:{title:"CSS class",description:"Specifies one or more CSS classes that should be applied to the dom element for this field once it is rendered.  Supports a single value, comma-delimited values, space-delimited values or values passed in as an array.",type:"string"},hideInitValidationError:{title:"Hide Initial Validation Errors",description:"Hide initial validation errors if true.",type:"boolean",default:!1},focus:{title:"Focus",description:"If true, the initial focus for the form will be set to the first child element (usually the first field in the form).  If a field name or path is provided, then the specified child field will receive focus.  For example, you might set focus to 'name' (selecting the 'name' field) or you might set it to 'client/name' which picks the 'name' field on the 'client' object.",type:"boolean",default:!0},optionLabels:{title:"Enumerated Value Labels",description:"An array of string labels for items in the enum array",type:"array"},view:{title:"Override of the view for this field",description:"Allows for this field to be rendered with a different view (such as 'display')",type:"string"}}};return this.isTopLevel()?e.properties.form={title:"Form",description:"Options for rendering the FORM tag.",type:"object",properties:{attributes:{title:"Form Attributes",description:"List of attributes for the FORM tag.",type:"object",properties:{id:{title:"Id",description:"Unique form id. Auto-generated if not provided.",type:"string"},action:{title:"Action",description:"Form submission endpoint",type:"string"},method:{title:"Method",description:"Form submission method",enum:["post","get"],type:"string"},rubyrails:{title:"Ruby On Rails",description:"Ruby on Rails Name Standard",enum:["true","false"],type:"string"},name:{title:"Name",description:"Form name",type:"string"},focus:{title:"Focus",description:"Focus Setting",type:"any"}}},buttons:{title:"Form Buttons",description:"Configuration for form-bound buttons",type:"object",properties:{submit:{type:"object",title:"Submit Button",required:!1},reset:{type:"object",title:"Reset button",required:!1}}},toggleSubmitValidState:{title:"Toggle Submit Valid State",description:"Toggle the validity state of the Submit button",type:"boolean",default:!0}}}:delete e.properties.form,e}})})(jQuery),(r=>{var a=r.alpaca;a.ControlField=a.Field.extend({onConstruct:function(){var n=this;this.isControlField=!0,this._getControlVal=function(e){var t=null;return t=this.control&&(t=r(this.control).val(),e)?n.ensureProperType(t):t}},setup:function(){this.base();var e=this.resolveControlTemplateType();if(!e)return a.throwErrorWithCallback("Unable to find template descriptor for control: "+this.getFieldType());if(this.controlDescriptor=this.view.getTemplateDescriptor("control-"+e,this),void 0===this.options.renderButtons&&(this.options.renderButtons=!0),this.options.buttons)for(var t in this.options.buttons)this.options.buttons[t].label&&(this.options.buttons[t].value=this.options.buttons[t].label),this.options.buttons[t].title&&(this.options.buttons[t].value=this.options.buttons[t].title),this.options.buttons[t].type||(this.options.buttons[t].type="button"),this.options.buttons[t].styles||(this.options.buttons[t].styles=this.view.styles.button)},getControlEl:function(){return this.control},resolveControlTemplateType:function(){var e=!1,t=null,n=this;do{}while(n.getFieldType?this.view.getTemplateDescriptor("control-"+n.getFieldType(),this)?(t=n.getFieldType(),e=!0):n=n.constructor.ancestor.prototype:e=!0,!e);return t},onSetup:function(){},isAutoFocusable:function(){return!0},getTemplateDescriptorId:function(){return"control"},renderFieldElements:function(n){var i=this;a.logDebug("acioina MARKER1: "+r(this.field)[0].innerHTML),this.control=r(this.field).find("."+a.MARKER_CLASS_CONTROL_FIELD),this.control.removeClass(a.MARKER_CLASS_CONTROL_FIELD),i.prepareControlModel(function(t){i.beforeRenderControl(t,function(){i.renderControl(t,function(e){e&&(i.control.replaceWith(e),i.control=e,i.control.addClass(a.CLASS_CONTROL)),i.fireCallback("control"),i.afterRenderControl(t,function(){n()})})})})},prepareControlModel:function(e){var t={};t.id=this.getId(),t.name=this.name,t.options=this.options,t.schema=this.schema,t.data=this.data,t.required=this.isRequired(),t.view=this.view,e(t)},beforeRenderControl:function(e,t){t()},afterRenderControl:function(e,t){var i=this;i.firstUpdateObservableFire||void 0!==i.data&&null!=i.data&&(i.firstUpdateObservableFire=!0,i.updateObservable()),r(this.getFieldEl()).find(".alpaca-control-button").each(function(){r(this).click(function(e){r(this).attr("button-pushed",!0)});var t,n,e=r(this).attr("data-key");e&&(e=i.options.buttons[e])&&e.click&&r(this).click((t=i,n=e.click,function(e){e.preventDefault(),n.call(t,e)}))}),t()},renderControl:function(e,t){var n=null;t(n=this.controlDescriptor?a.tmpl(this.controlDescriptor,e):n)},postRender:function(e){this.base(function(){e()})},updateDOMElement:function(){this.base(),this.control.attr("name",this.getName())},setDefault:function(){var e=a.isEmpty(this.schema.default)?"":this.schema.default;this.setValue(e)},getValue:function(){var e=this.base();return this.isDisplayOnly()||(e=this.getControlValue()),e=this.ensureProperType(e)},getControlValue:function(){return this._getControlVal(!0)},_validateEnum:function(){var e;return!(this.schema.enum&&(e=this.getValue(),this.isRequired()||!a.isValEmpty(e)))||-1<r.inArray(e,this.schema.enum)},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateEnum();return t.invalidValueOfEnum={message:n?"":this.getMessage("invalidValueOfEnum"),status:n},e&&t.invalidValueOfEnum.status},initEvents:function(){this.base(),this.control&&0<this.control.length&&this.initControlEvents()},initControlEvents:function(){var n=this,e=this.control;e.click(function(e){n.onClick.call(n,e),n.trigger("click",e)}),e.change(function(e){setTimeout(function(){n.onChange.call(n,e),n.triggerWithPropagation("change",e)},250)}),e.focus(function(e){var t;if(n.wasFocused=!0,!n.suspendBlurFocus)return!1!==(t=n.onFocus.call(n,e))?n.trigger("focus",e):t}),e.blur(function(e){var t;if(n.wasBlurred=!0,!n.suspendBlurFocus)return!1!==(t=n.onBlur.call(n,e))?n.trigger("blur",e):t}),e.keypress(function(e){var t=n.onKeyPress.call(n,e);return t=!1!==t?n.trigger("keypress",e):t}),e.keyup(function(e){var t=n.onKeyUp.call(n,e);return t=!1!==t?n.trigger("keyup",e):t}),e.keydown(function(e){var t=n.onKeyDown.call(n,e);return t=!1!==t?n.trigger("keydown",e):t})},onKeyPress:function(e){var t=this,n=!1;(n=t.view.type&&"edit"===t.view.type&&!this.isValid()?!0:n)&&window.setTimeout(function(){t.refreshValidationState()},50)},onKeyDown:function(e){},onKeyUp:function(e){},onClick:function(e){},disable:function(){this.base(),this.control&&0<this.control.length&&r(this.control).prop("disabled",!0)},enable:function(){this.base(),this.control&&0<this.control.length&&r(this.control).prop("disabled",!1)},getSchemaOfSchema:function(){return a.merge(this.base(),{properties:{enum:{title:"Enumerated Values",description:"List of specific values for this property",type:"array"}}})},getSchemaOfOptions:function(){return a.merge(this.base(),{properties:{name:{title:"Field Name",description:"Field Name.",type:"string"}}})}})})(jQuery),(v=>{var b=v.alpaca;b.ContainerField=b.Field.extend({onConstruct:function(){this.isContainerField=!0},isContainer:function(){return!0},getContainerEl:function(){return this.container},getTemplateDescriptorId:function(){return"container"},resolveContainerTemplateType:function(){var e=!1,t=null,n=this;do{}while(n.getFieldType?this.view.getTemplateDescriptor("container-"+n.getFieldType(),this)?(t=n.getFieldType(),e=!0):n=n.constructor.ancestor.prototype:e=!0,!e);return t},resolveContainerItemTemplateType:function(){var e=!1,t=null,n=this;do{}while(n.getFieldType?this.view.getTemplateDescriptor("container-"+n.getFieldType()+"-item",this)?(t=n.getFieldType(),e=!0):n=n.constructor.ancestor.prototype:e=!0,!e);return t},setup:function(){this.base();var e=this.resolveContainerTemplateType();if(!e)return b.throwErrorWithCallback("Unable to find template descriptor for container: "+this.getFieldType());this.containerDescriptor=this.view.getTemplateDescriptor("container-"+e,this);e=!0,b.isEmpty(this.view.collapsible)||(e=this.view.collapsible),b.isEmpty(this.options.collapsible)||(e=this.options.collapsible),this.options.collapsible=e,e="button";b.isEmpty(this.view.legendStyle)||(e=this.view.legendStyle),b.isEmpty(this.options.legendStyle)||(e=this.options.legendStyle),this.options.legendStyle=e,this.lazyLoading=!1,b.isEmpty(this.options.lazyLoading)||(this.lazyLoading=this.options.lazyLoading,this.lazyLoading&&(this.options.collapsed=!0)),this.children=[],this.childrenById={},this.childrenByPropertyId={}},destroy:function(){this.form&&(this.form.destroy(!0),delete this.form),b.each(this.children,function(){this.destroy()}),this.base()},renderFieldElements:function(n){var i=this;b.logDebug("acioina MARKER2: "+v(this.field)[0].innerHTML),this.container=v(this.field).find("."+b.MARKER_CLASS_CONTAINER_FIELD),this.container.removeClass(b.MARKER_CLASS_CONTAINER_FIELD),i.prepareContainerModel(function(t){i.beforeRenderContainer(t,function(){i.renderContainer(t,function(e){e&&(i.container.replaceWith(e),i.container=e,i.container.addClass(b.CLASS_CONTAINER)),i.view.horizontal?i.container.addClass("alpaca-horizontal"):i.container.addClass("alpaca-vertical"),i.fireCallback("container"),i.afterRenderContainer(t,function(){n()})})})})},prepareContainerModel:function(t){var n={id:this.getId(),name:this.name,schema:this.schema,options:this.options,view:this.view};this.createItems(function(e){n.items=e=e||[],t(n)})},beforeRenderContainer:function(e,t){t()},renderContainer:function(e,t){var n=null;t(n=this.containerDescriptor?b.tmpl(this.containerDescriptor,e):n)},afterRenderContainer:function(e,t){var n=this;n.beforeApplyCreatedItems(e,function(){n.applyCreatedItems(e,function(){n.afterApplyCreatedItems(e,function(){t()})})})},postRender:function(e){this.base(function(){e()})},initEvents:function(){this.base()},createItems:function(e){e()},beforeApplyCreatedItems:function(e,t){t()},applyCreatedItems:function(e,t){var n=this;if(b.logDebug("acioina MARKER3: "+v(n.container)[0].innerHTML),0<e.items.length){v(n.container).addClass("alpaca-container-has-items"),v(n.container).attr("data-alpaca-container-item-count",e.items.length);for(var i,r,a,o,l,s=[],u=[],c=[],p=[],d=[],h=0;h<e.items.length;h++)r=e.items[h],i=v(r.containerItemEl)[0].innerHTML,u[r.name]=h,s[r.name]=h,o=i.indexOf('-alpaca-field-name="'+r.name+'"'),o=i.substring(0,o).lastIndexOf("<"),l=i.substring(o).indexOf(">"),o=(l=i.substring(o,l+o+1)).substring(l.indexOf('-id="alpaca')+11),p[h]=parseInt(o.substring(0,o.indexOf('"')),10),c[r.name]=p[h],d[h]=-1,b.logDebug("acioina MARKER3: innerHTML = "+i),b.logDebug("acioina MARKER3: ss = "+l);for(h=0;h<e.items.length;h++)for(var f=p[h],m=h+1;m<e.items.length;m++)p[m]<f&&(f=p[m],p[m]=p[h],p[h]=f);for(h=0;h<e.items.length;h++)for(m=0;m<e.items.length;m++)if(p[h]==c[e.items[m].name]){d[h]=e.items[m].name;break}for(h=0,m=0;h<e.items.length;)if(r=e.items[h],y=v(n.container).find("."+b.MARKER_CLASS_CONTAINER_FIELD_ITEM+"["+b.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY+"='"+r.name+"']"),a=v(y).parent(),u[d[h]]!=h)for(v(a).children().eq(u[d[h]]).insertBefore(v(a).children().eq(h)),1<u[d[h]]-h&&v(a).children().eq(h+1).insertAfter(v(a).children().eq(u[d[h]])),m=0;m<e.items.length;){if(u[d[m]]===h){u[d[m]]=u[d[h]],u[d[h]]=h,h++;break}m++}else h++;for(h=0;h<e.items.length;h++){r=e.items[s[d[h]]],b.logDebug("acioina MARKER3: name "+h+"  "+r.name);var y=v(n.container).find("."+b.MARKER_CLASS_CONTAINER_FIELD_ITEM+"["+b.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY+"='"+r.name+"']"),g=v(y).parent();v(y).replaceWith(r.containerItemEl),r.domEl=g,v(r.containerItemEl).addClass("alpaca-container-item"),0===h&&v(r.containerItemEl).addClass("alpaca-container-item-first"),h+1===e.items.length&&v(r.containerItemEl).addClass("alpaca-container-item-last"),v(r.containerItemEl).attr("data-alpaca-container-item-index",h),v(r.containerItemEl).attr("data-alpaca-container-item-name",r.name),v(r.containerItemEl).attr("data-alpaca-container-item-parent-field-id",n.getId()),n.registerChild(r,h)}}else v(n.container).removeClass("alpaca-container-has-items"),v(n.container).removeAttr("data-alpaca-container-item-count");n.options.collapsible&&n.fireCallback("collapsible"),n.triggerUpdate(),t()},afterApplyCreatedItems:function(e,t){t()},registerChild:function(e,t){b.isEmpty(t)?this.children.push(e):this.children.splice(t,0,e),(this.childrenById[e.getId()]=e).propertyId&&(this.childrenByPropertyId[e.propertyId]=e),e.parent=this},unregisterChild:function(e){var t=this.children[e];t&&(b.isEmpty(e)||this.children.splice(e,1),delete this.childrenById[t.getId()],t.propertyId&&delete this.childrenByPropertyId[t.propertyId],t.parent=null)},updateDOMElement:function(){var e=this;this.base(),0<e.children.length?(v(e.getContainerEl()).addClass("alpaca-container-has-items"),v(e.getContainerEl()).attr("data-alpaca-container-item-count",e.children.length)):(v(e.getContainerEl()).removeClass("alpaca-container-has-items"),v(e.getContainerEl()).removeAttr("data-alpaca-container-item-count"));for(var t=0;t<e.children.length;t++){var n=e.children[t];n.path||("array"===n.schema.type?n.path=e.path+"["+t+"]":n.path=e.path+"/"+n.propertyId),n.calculateName(),v(n.containerItemEl).removeClass("alpaca-container-item-first"),v(n.containerItemEl).removeClass("alpaca-container-item-last"),v(n.containerItemEl).removeClass("alpaca-container-item-index"),v(n.containerItemEl).removeClass("alpaca-container-item-key"),v(n.containerItemEl).addClass("alpaca-container-item"),0===t&&v(n.containerItemEl).addClass("alpaca-container-item-first"),t+1===e.children.length&&v(n.containerItemEl).addClass("alpaca-container-item-last"),v(n.containerItemEl).attr("data-alpaca-container-item-index",t),v(n.containerItemEl).attr("data-alpaca-container-item-name",n.name),v(n.containerItemEl).attr("data-alpaca-container-item-parent-field-id",e.getId()),n.updateDOMElement()}},handleRepositionDOMRefresh:function(){(this.getParent()?this.getParent():this).updateDOMElement()},onDependentReveal:function(){for(var e=0;e<this.children.length;e++)this.children[e].onDependentReveal()},onDependentConceal:function(){for(var e=0;e<this.children.length;e++)this.children[e].onDependentConceal()},focus:function(e){var t=this,n=(this.base(),-1),i=new Array(this.children.length),r=this.getContainerEl(),a=(this.form&&(r=this.form.getFormEl()),0);v(r).find(".alpaca-container-item[data-alpaca-container-item-parent-field-id='"+this.getId()+"']").each(function(){var e=v(this).attr("data-alpaca-container-item-index");i[a]=t.children[e],a++});for(var o=0;o<i.length;o++)if(i[o]&&!i[o].isValid(!0)&&i[o].isControlField&&i[o].isAutoFocusable()&&!i[o].options.readonly){n=o;break}-1<(n=-1===n&&0<i.length?0:n)&&(i[n].focus(),e)&&e(i[n])},disable:function(){this.base();for(var e=0;e<this.children.length;e++)this.children[e].disable()},enable:function(){this.base();for(var e=0;e<this.children.length;e++)this.children[e].enable()},getValue:function(){var e=this.getContainerValue();return e=this.isDisplayOnly()?e&&JSON.stringify(e,null,"  "):e},getContainerValue:function(){return null},firstChild:function(){var e=null;return e=0<this.children.length?this.children[0]:e},lastChild:function(){var e=null;return e=0<this.children.length?this.children[this.children.length-1]:e},getSchemaOfOptions:function(){return b.merge(this.base(),{properties:{lazyLoading:{title:"Lazy Loading",description:"Child fields will only be rendered when the fieldset is expanded if this option is set true.",type:"boolean",default:!1},collapsible:{title:"Collapsible",description:"Field set is collapsible if true.",type:"boolean",default:!0},collapsed:{title:"Collapsed",description:"Field set is initially collapsed if true.",type:"boolean",default:!1},legendStyle:{title:"Legend Style",description:"Field set legend style.",type:"string",enum:["button","link"],default:"button"},animate:{title:"Animate movements and transitions",description:"Up and down transitions will be animated",type:"boolean",default:!0}}})}})})(jQuery),(r=>{var o=r.alpaca;o.Form=Base.extend({constructor:function(e,t,n,i,r){if(this.domEl=e,this.parent=null,this.connector=i,this.errorCallback=r,this.options=t,this.options.attributes?this.attributes=this.options.attributes:this.attributes={},this.options.buttons)for(var a in this.options.buttons.submit&&(this.options.buttons.submit.type||(this.options.buttons.submit.type="submit"),this.options.buttons.submit.name||(this.options.buttons.submit.name="submit"),this.options.buttons.submit.value||(this.options.buttons.submit.value="Submit")),this.options.buttons.reset&&(this.options.buttons.reset.type||(this.options.buttons.reset.type="reset"),this.options.buttons.reset.name||(this.options.buttons.reset.name="reset"),this.options.buttons.reset.value||(this.options.buttons.reset.value="Reset")),this.options.buttons)this.options.buttons[a].label&&(this.options.buttons[a].value=this.options.buttons[a].label),this.options.buttons[a].title&&(this.options.buttons[a].value=this.options.buttons[a].title),this.options.buttons[a].type||(this.options.buttons[a].type="button");for(var a in this.attributes.id?this.id=this.attributes.id:(this.id=o.generateId(),this.attributes.id=this.id),o.isUndefined(this.options.toggleSubmitValidState)&&(this.options.buttons&&this.options.buttons.submit?this.options.toggleSubmitValidState=!0:this.options.toggleSubmitValidState=!1),this.viewType=t.viewType,this.view=new o.RuntimeView(n,this),this.options.buttons)this.options.buttons[a].styles||(this.options.buttons[a].styles=this.view.styles.button)},render:function(e){var t=this;this.form&&this.form.remove(),this.processRender(this.domEl,function(){t.form.appendTo(t.container),t.form.addClass("alpaca-form"),t.fireFormCallback("form"),e(t)})},afterInitialize:function(){this.options.toggleSubmitValidState&&this.adjustSubmitButtonState()},isFormValid:function(){return this.topControl.validate(!0),this.topControl.isValid(!0)},isValid:function(){return this.isFormValid()},validate:function(e){return this.topControl.validate(e)},enableSubmitButton:function(){if(r(".alpaca-form-button-submit").attrProp("disabled",!1),r.mobile)try{r(".alpaca-form-button-submit").button("refresh")}catch(e){}},disableSubmitButton:function(){if(r(".alpaca-form-button-submit").attrProp("disabled",!0),r.mobile)try{r(".alpaca-form-button-submit").button("refresh")}catch(e){}},adjustSubmitButtonState:function(){this.disableSubmitButton(),this.isFormValid()&&this.enableSubmitButton()},processRender:function(e,t){var i=this;if(this.formDescriptor=this.view.getTemplateDescriptor("form"),!this.formDescriptor)return o.throwErrorWithCallback("Could not find template descriptor: form");var n=o.tmpl(this.formDescriptor,{id:this.getId(),options:this.options,view:this.view});n.appendTo(e),this.form=n,o.logDebug("acioina MARKER4: "+r(this.form)[0].innerHTML),this.formFieldsContainer=r(this.form).find("."+o.MARKER_CLASS_FORM_ITEMS_FIELD),this.formFieldsContainer.removeClass(o.MARKER_CLASS_FORM_ITEMS_FIELD),o.isEmpty(this.form.attr("id"))&&this.form.attr("id",this.getId()+"-form-outer"),o.isEmpty(this.form.attr("data-alpaca-form-id"))&&this.form.attr("data-alpaca-form-id",this.getId()),r(e).find("form").attr(this.attributes),this.buttons={},r(e).find(".alpaca-form-button").each(function(){r(this).click(function(e){r(this).attr("button-pushed",!0)});var t,n,e=r(this).attr("data-key");e&&(e=i.options.buttons[e])&&e.click&&r(this).click((t=i,n=e.click,function(e){e.preventDefault(),n.call(t,e)}))}),t()},getId:function(){return this.id},getType:function(){return this.type},getParent:function(){return this.parent},getValue:function(){return this.topControl.getValue()},setValue:function(e){this.topControl.setValue(e)},initEvents:function(){var t=this,e=r(this.domEl).find("form"),n=this.getValue();r(e).submit(n,function(e){return t.onSubmit(e,t)}),this.options.toggleSubmitValidState&&(r(t.topControl.getFieldEl()).bind("fieldupdate",function(){t.adjustSubmitButtonState()}),r(t.topControl.getFieldEl()).bind("fieldkeyup",function(){t.adjustSubmitButtonState()}),r(t.topControl.getFieldEl()).bind("fieldblur",function(){t.adjustSubmitButtonState()}))},getButtonEl:function(e){return r(this.domEl).find(".alpaca-form-button-"+e)},onSubmit:function(e,t){return this.isFormValid()?this.submitHandler?(e.stopPropagation(),t=this.submitHandler(e,t),!o.isUndefined(t)&&t):void 0:(e.stopPropagation(),this.refreshValidationState(!0),!1)},registerSubmitHandler:function(e){o.isFunction(e)&&(this.submitHandler=e)},refreshValidationState:function(e,t){this.topControl.refreshValidationState(e,t)},disable:function(){this.topControl.disable()},enable:function(){this.topControl.enable()},focus:function(t){this.topControl.focus(function(e){t&&t(e)})},destroy:function(e){this.getFormEl().remove(),!e&&this.parent&&this.parent.destroy()},show:function(){this.getFormEl().css({display:""})},hide:function(){this.getFormEl().css({display:"none"})},clear:function(e){this.topControl.clear(e)},isEmpty:function(){return this.topControl.isEmpty()},fireFormCallback:function(e,t,n,i,r,a){this.view.fireCallback(this,e,t,n,i,r,a)},getFormEl:function(){return this.form},submit:function(){this.form.submit()},determineCsrfToken:function(){var e=o.CSRF_TOKEN;if(!e)for(var t=0;t<o.CSRF_COOKIE_NAMES.length;t++){var n=o.CSRF_COOKIE_NAMES[t],n=o.readCookie(n);if(n){e=n;break}}return e}})})(jQuery),(()=>{var f=jQuery.alpaca,n=(f.Connector=Base.extend({constructor:function(e,t){this.id=e,this.config=t,this.isUri=function(e){return!f.isEmpty(e)&&f.isUri(e)},this.cache=new n("URL",!0,36e5)},connect:function(e,t){e()},loadTemplate:function(e,t,n){f.isEmpty(e)?n({message:"Empty data source.",reason:"TEMPLATE_LOADING_ERROR"}):f.isUri(e)||t(e)},loadData:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadSchema:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadOptions:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadView:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadAll:function(c,p,d){var h=this;h.connect(function(){function t(){s===u&&p&&f.isFunction(p)&&p(l.data,l.options,l.schema,l.view)}function e(e){d&&f.isFunction(d)&&d(e)}var n,i=c.dataSource,r=c.schemaSource,a=c.optionsSource,o=c.viewSource,l=(r||"string"!=typeof c.schema||(r=c.schema),a||"string"!=typeof c.options||(a=c.options),o||"string"!=typeof c.view||(o=c.view),{}),s=0,u=0;i&&u++,r&&u++,a&&u++,o&&u++,0===u?t():(n=function(e,t,n){l[e]=t,n&&("object"==typeof l[e]&&"object"==typeof n?f.mergeObject(l[e],n):l[e]=n)},i&&h.loadData(i,c,function(e){n("data",c.data,e),s++,t()},e),r&&h.loadSchema(r,c,function(e){n("schema",c.schema,e),s++,t()},e),a&&h.loadOptions(a,c,function(e){n("options",c.options,e),s++,t()},e),o&&h.loadView(o,c,function(e){n("view",c.view,e),s++,t()},e))},function(e){d&&f.isFunction(d)&&d(e)})},buildAjaxConfig:function(e,t){e={url:e,type:"get"};return e.dataType=t?"json":"text",e},loadReferenceSchema:function(e,t,n){return this._handleLoadJsonResource(e,t,n)},loadReferenceOptions:function(e,t,n){return this._handleLoadJsonResource(e,t,n)},_handleLoadJsonResource:function(e,t,n){this.isUri(e)||t(e)}}),f.registerConnectorClass("default",f.Connector),function(e,t,n){switch(this.on=!!t,null!=n&&(this.defaultLifetime=n),this.type=e,this.type){case"URL":this.put=this.put_url;break;case"GET":this.put=this.put_GET}});n.prototype.on=!1,n.prototype.type=void 0,n.prototype.defaultLifetime=18e5,n.prototype.items={},n.prototype.put_url=function(e,t,n){null==n&&(n=this.defaultLifetime);var i=this.make_key(e);return this.items[i]={},this.items[i].key=i,this.items[i].url=e,this.items[i].response=t,this.items[i].expire=(new Date).getTime()+n,!0},n.prototype.put_GET=function(e,t,n,i){null==i&&(i=this.defaultLifetime);var r=this.make_key(e,[t]);return this.items[r]={},this.items[r].key=r,this.items[r].url=e,this.items[r].data=t,this.items[r].response=n,this.items[r].expire=(new Date).getTime()+i,!0},n.prototype.get=function(e,t){e=this.make_key(e,t);return null!=this.items[e]&&!(this.items[e].expire<(new Date).getTime())&&this.items[e].response},n.prototype.make_key=function(e,t){var n=e;switch(this.type){case"URL":break;case"GET":n+=this.stringify(t[0])}return n},n.prototype.flush=function(){return cache.items={},!0},n.prototype.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(!(rep=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return this.str("",{"":e});throw new Error("JSON.stringify")},n.prototype.quote=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},n.prototype.str=function(e,t){var n,i,r,a,o,l=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),typeof(s="function"==typeof rep?rep.call(t,e,s):s)){case"string":return this.quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,n=0;n<a;n+=1)o[n]=this.str(n,s)||"null";r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+l+"]":"["+o.join(",")+"]"}else{if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof(i=rep[n])&&(r=this.str(i,s))&&o.push(this.quote(i)+(gap?": ":":")+r);else for(i in s)Object.hasOwnProperty.call(s,i)&&(r=this.str(i,s))&&o.push(this.quote(i)+(gap?": ":":")+r);r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+l+"}":"{"+o.join(",")+"}"}return gap=l,r}}})(),(p=>{var d=p.alpaca;d.Fields.TextField=d.ControlField.extend({getFieldType:function(){return"text"},setup:function(){var e;this.base(),this.inputType||(this.inputType="text"),this.options.inputType&&(this.inputType=this.options.inputType),this.options.data||(this.options.data={}),this.options.attributes||(this.options.attributes={}),void 0===this.options.allowOptionalEmpty&&(this.options.allowOptionalEmpty=!0),this.options.autocomplete&&"string"==typeof this.options.autocomplete&&("on"===this.options.autocomplete.toLowerCase()||"true"===this.options.autocomplete.toLowerCase()||"yes"===this.options.autocomplete.toLowerCase()?this.options.autocomplete=!0:this.options.autocomplete=!1),void 0===this.options.autocomplete&&(this.options.autocomplete=!1),void 0===this.options.disallowEmptySpaces&&(this.options.disallowEmptySpaces=!1),void 0===this.options.disallowOnlyEmptySpaces&&(this.options.disallowOnlyEmptySpaces=!1),this.schema.pattern&&d.isString(this.schema.pattern)&&(e=new RegExp(this.schema.pattern),this.schema.pattern=e)},destroy:function(){this.base(),this.control&&this.control.typeahead&&this.options.typeahead&&p(this.control).typeahead("destroy")},postRender:function(e){var t=this;this.base(function(){t.control&&(t.applyAutocomplete(),t.applyMask(),t.applyTypeAhead(),t.updateMaxLengthIndicator()),e()})},applyAutocomplete:function(){var e=this;void 0!==e.options.autocomplete&&(p(e.field).addClass("alpaca-autocomplete"),p(e.control).attr("autocomplete",e.options.autocomplete?"on":"off"),e.fireCallback("autocomplete"))},applyMask:function(){this.control.mask&&this.options.maskString&&this.control.mask(this.options.maskString)},applyTypeAhead:function(){var n=this;if(n.control.typeahead&&n.options.typeahead&&!d.isEmpty(n.options.typeahead)){var e=(e=n.options.typeahead.config)||{},t=n.options.typeahead.datasets;(t=t||{}).name||(t.name=n.getId());var i=(i=n.options.typeahead.events)||{};if("local"===t.type||"remote"===t.type||"prefetch"===t.type){var r={datumTokenizer:function(e){var t,n="";for(t in e)(e.hasOwnProperty(t)||e[t])&&(n+=" "+e[t]);return Bloodhound.tokenizers.whitespace(n)},queryTokenizer:Bloodhound.tokenizers.whitespace};if("local"===t.type){var a=[];if("function"==typeof t.source)r.local=t.source;else{for(var o=0;o<t.source.length;o++){var l=t.source[o];a.push(l="string"==typeof l?{value:l}:l)}r.local=a}t.local&&(r.local=t.local)}"prefetch"===t.type&&(r.prefetch={url:t.source},t.filter)&&(r.prefetch.filter=t.filter),"remote"===t.type&&(r.remote={url:t.source},t.filter&&(r.remote.filter=t.filter),t.replace)&&(r.remote.replace=t.replace);r=new Bloodhound(r);r.initialize(),t.source=r.ttAdapter()}if(t.templates)for(var s in t.templates){var u=t.templates[s];"string"==typeof u&&(t.templates[s]=Handlebars.compile(u))}p(n.control).typeahead(e,t),p(n.control).on("typeahead:autocompleted",function(e,t){n.setValue(t.value),p(n.control).change()}),p(n.control).on("typeahead:selected",function(e,t){n.setValue(t.value),p(n.control).change()}),i&&(i.autocompleted&&p(n.control).on("typeahead:autocompleted",function(e,t){i.autocompleted(e,t)}),i.selected)&&p(n.control).on("typeahead:selected",function(e,t){i.selected(e,t)});var c=p(n.control);p(n.control).change(function(){var e=p(this).val(),t=p(c).typeahead("val");t!==e&&p(c).typeahead("val",t)}),p(n.field).find("span.twitter-typeahead").first().css("display","block"),p(n.field).find("span.twitter-typeahead input.tt-input").first().css("background-color","")}},prepareControlModel:function(t){var n=this;this.base(function(e){e.inputType=n.inputType,t(e)})},updateMaxLengthIndicator:function(){var e,t=this,n=!1,i="";!d.isEmpty(t.schema.maxLength)&&t.options.showMaxLengthIndicator&&(e=t.getValue()||"",0<=(e=t.schema.maxLength-e.length)?i=d.substituteTokens(t.getMessage("updateMaxLengthIndicatorMessage1"),[e,t.schema.maxLength]):(i=d.substituteTokens(t.getMessage("updateMaxLengthIndicatorMessage2"),[-1*e]),n=!0),0===(e=p(t.field).find(".alpaca-field-text-max-length-indicator")).length&&(e=p("<p class='alpaca-field-text-max-length-indicator'></p>"),p(t.control).after(e)),p(e).html(i),p(e).removeClass("err"),n)&&p(e).addClass("err")},getControlValue:function(){var e,t=this._getControlVal(!0);return this.control.mask&&this.options.maskString&&(e=p(this.control).data(p.mask.dataName))&&(t=e(),t=this.ensureProperType(t)),t},setValue:function(e){this.control&&0<this.control.length&&(d.isEmpty(e)?this.control.val(""):this.control.val(e)),this.base(e),this.updateMaxLengthIndicator()},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validatePattern();return t.invalidPattern={message:n?"":d.substituteTokens(this.getMessage("invalidPattern"),[this.schema.pattern,this.schema.title]),status:n},n=this._validateMaxLength(),t.stringTooLong={message:n?"":d.substituteTokens(this.getMessage("stringTooLong"),[this.schema.maxLength]),status:n},n=this._validateMinLength(),t.stringTooShort={message:n?"":d.substituteTokens(this.getMessage("stringTooShort"),[this.schema.minLength]),status:n},e&&t.invalidPattern.status&&t.stringTooLong.status&&t.stringTooShort.status},_validatePattern:function(){if(this.schema.pattern){var e=this.getValue();if(""===e&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if(!(e=d.isEmpty(e)?"":e).match(this.schema.pattern))return!1}return!0},_validateMinLength:function(){if(!d.isEmpty(this.schema.minLength)){var e=this.getValue();if(""===e&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if((e=d.isEmpty(e)?"":e).length<this.schema.minLength)return!1}return!0},_validateMaxLength:function(){if(!d.isEmpty(this.schema.maxLength)){var e=this.getValue();if(""===e&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if((e=d.isEmpty(e)?"":e).length>this.schema.maxLength)return!1}return!0},focus:function(e){if(this.control&&0<this.control.length){var t=p(this.control).get(0);try{var n=t.value?t.value.length:0;t.selectionStart=n,t.selectionEnd=n}catch(e){}t.focus(),e&&e(this)}},getType:function(){return"string"},onKeyPress:function(e){var t=this;9!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode&&(8===e.keyCode?d.isEmpty(t.schema.minLength)||!t.options.constrainLengths&&!t.options.constrainMinLength||(t.getValue()||"").length<=t.schema.minLength&&(e.preventDefault(),e.stopImmediatePropagation()):d.isEmpty(t.schema.maxLength)||!t.options.constrainLengths&&!t.options.constrainMaxLength||(t.getValue()||"").length>=t.schema.maxLength&&(e.preventDefault(),e.stopImmediatePropagation()),32===e.keyCode)&&t.options.disallowEmptySpaces&&(e.preventDefault(),e.stopImmediatePropagation())},onKeyUp:function(e){this.updateMaxLengthIndicator(),p(this.field).trigger("fieldkeyup")},getTitle:function(){return"Single-Line Text"},getDescription:function(){return"Text field for single-line text."},getSchemaOfSchema:function(){return d.merge(this.base(),{properties:{minLength:{title:"Minimal Length",description:"Minimal length of the property value.",type:"number"},maxLength:{title:"Maximum Length",description:"Maximum length of the property value.",type:"number"},pattern:{title:"Pattern",description:"Regular expression for the property value.",type:"string"}}})},getSchemaOfOptions:function(){return d.merge(this.base(),{properties:{size:{title:"Field Size",description:"Field size.",type:"number",default:40},maskString:{title:"Mask Expression",description:"Expression for the field mask. Field masking will be enabled if not empty.",type:"string"},placeholder:{title:"Field Placeholder",description:"Field placeholder.",type:"string"},typeahead:{title:"Type Ahead",description:"Provides configuration for the $.typeahead plugin if it is available.  For full configuration options, see: https://github.com/twitter/typeahead.js"},allowOptionalEmpty:{title:"Allow Optional Empty",description:"Allows this non-required field to validate when the value is empty"},inputType:{title:"HTML5 Input Type",description:"Allows for the override of the underlying HTML5 input type.  If not specified, an assumed value is provided based on the kind of input control (i.e. 'text', 'date', 'email' and so forth)",type:"string"},data:{title:"Data attributes for the underlying DOM input control",description:"Allows you to specify a key/value map of data attributes that will be added as DOM attribuets for the underlying input control.  The data attributes will be added as data-{name}='{value}'.",type:"object"},autocomplete:{title:"HTML autocomplete attribute for the underlying DOM input control",description:"Allows you to specify the autocomplete attribute for the underlying input control whether or not field should have autocomplete enabled.",type:"string"},disallowEmptySpaces:{title:"Disallow Empty Spaces",description:"Whether to disallow the entry of empty spaces in the text",type:"boolean",default:!1},disallowOnlyEmptySpaces:{title:"Disallow Only Empty Spaces",description:"Whether to disallow the entry of only empty spaces in the text",type:"boolean",default:!1}}})}}),d.registerFieldClass("text",d.Fields.TextField),d.registerDefaultSchemaFieldMapping("string","text")})(jQuery),(()=>{var i=jQuery.alpaca;i.Fields.TextAreaField=i.Fields.TextField.extend({getFieldType:function(){return"textarea"},setup:function(){this.base(),this.options.rows||(this.options.rows=5),this.options.cols||(this.options.cols=40)},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateWordCount();return t.wordLimitExceeded={message:n?"":i.substituteTokens(this.getMessage("wordLimitExceeded"),[this.options.wordlimit]),status:n},e&&t.wordLimitExceeded.status},_validateWordCount:function(){if(this.options.wordlimit&&-1<this.options.wordlimit){var e=this.data;if(e)if(e.split(" ").length>this.options.wordlimit)return!1}return!0},getTitle:function(){return"Multi-Line Text"},getDescription:function(){return"Textarea field for multiple line text."},getSchemaOfOptions:function(){return i.merge(this.base(),{properties:{rows:{title:"Rows",description:"Number of rows",type:"number",default:5},cols:{title:"Columns",description:"Number of columns",type:"number",default:40},wordlimit:{title:"Word Limit",description:"Limits the number of words allowed in the text area.",type:"number",default:-1}}})}}),i.registerFieldClass("textarea",i.Fields.TextAreaField)})(),(()=>{var n=jQuery.alpaca;n.Fields.UpperCaseField=n.Fields.TextField.extend({getFieldType:function(){return"uppercase"},setup:function(){this.base(),this.data&&(this.data=this.data.toUpperCase())},setValue:function(e){var t=null;(t=e&&n.isString(e)?e.toUpperCase():t)!=this.getValue()&&this.base(t)},onKeyPress:function(e){this.base(e);var t=this;n.later(25,this,function(){var e=t.getValue();t.setValue(e)})},getTitle:function(){return"Uppercase Text"},getDescription:function(){return"Text field for uppercase text."}}),n.registerFieldClass("uppercase",n.Fields.UpperCaseField),n.registerDefaultFormatFieldMapping("uppercase","uppercase")})(),(()=>{var n=jQuery.alpaca;n.Fields.LowerCaseField=n.Fields.TextField.extend({getFieldType:function(){return"lowercase"},setup:function(){this.base(),this.data&&(this.data=this.data.toLowerCase())},setValue:function(e){e=e.toLowerCase();e!=this.getValue()&&this.base(e)},onKeyPress:function(e){this.base(e);var t=this;n.later(25,this,function(){var e=t.getValue();t.setValue(e)})},getTitle:function(){return"Lowercase Text"},getDescription:function(){return"Text field for lowercase text."}}),n.registerFieldClass("lowercase",n.Fields.LowerCaseField),n.registerDefaultFormatFieldMapping("lowercase","lowercase")})(),(t=>{var e=t.alpaca;e.Fields.TagField=e.Fields.LowerCaseField.extend({getFieldType:function(){return"tag"},setup:function(){this.base(),this.options.separator||(this.options.separator=",")},getControlValue:function(){var e=this.base();return""===e?[]:e.split(this.options.separator)},setValue:function(e){""!==e&&(e?this.base(e.join(this.options.separator)):this.base(""))},onBlur:function(e){this.base(e);var e=this.getValue(),n=[];t.each(e,function(e,t){""!==t.trim()&&n.push(t.trim())}),this.setValue(n)},getTitle:function(){return"Tag Field"},getDescription:function(){return"Text field for entering list of tags separated by delimiter."},getSchemaOfOptions:function(){return e.merge(this.base(),{properties:{separator:{title:"Separator",description:"Separator used to split tags.",type:"string",default:","}}})}}),e.registerFieldClass("tag",e.Fields.TagField)})(jQuery),(()=>{var t=jQuery.alpaca;t.Fields.EmailField=t.Fields.TextField.extend({getFieldType:function(){return"email"},setup:function(){this.inputType="email",this.base(),this.schema.pattern||(this.schema.pattern=t.regexps.email)},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidEmail")),e},getTitle:function(){return"Email Field"},getDescription:function(){return"Email Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:t.regexps.email;return t.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string",default:e,enum:[e],readonly:!0},format:{title:"Format",description:"Property data format",type:"string",default:"email",enum:["email"],readonly:!0}}})}}),t.registerFieldClass("email",t.Fields.EmailField),t.registerDefaultFormatFieldMapping("email","email")})(),(()=>{var r=jQuery.alpaca;r.Fields.DateField=r.Fields.TextField.extend({setup:function(){var e,t=this;this.inputType="tel",this.base(),t.schema.pattern?r.isString(t.schema.pattern)&&(e=new RegExp(t.schema.pattern),t.schema.pattern=e):t.schema.pattern=r.regexps.date,r.isEmpty(t.options.maskString)&&(t.options.maskString="99/99/9999"),r.isEmpty(this.options.dateFormat)&&(t.options.dateFormat=t.getDefaultFormat())},handleValidate:function(){var e=this.base(),t=this.validation,n=!0,i=this.options.placeholder||this.options.dateFormat;return t.invalidPattern.status?(n=this._validateDateFormat(),t.stringNotADate={message:n?"":r.substituteTokens(this.getMessage("stringNotADate"),[i]),status:n}):(t.invalidPattern.message=r.substituteTokens(this.getMessage("invalidDate"),[i]),t.stringNotADate={message:"",status:!0}),e&&n},_validateDateFormat:function(){var e,t=!0;return t=this.options.dateFormat&&((e=this.getValue())||this.isRequired())?moment(e,this.options.dateFormat,!0).isValid():t},setValue:function(e){moment(e,this.options.dateFormat,!0).isValid()?this.base(e):this.base("")},getFieldType:function(){return"date"},getTitle:function(){return"Date Field"},getDescription:function(){return"Date Field."},getDefaultFormat:function(){return"MMDDYYYY"},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:r.regexps.date;return r.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string",default:e,enum:[e]},format:{title:"Format",description:"Property data format",type:"string",default:"date",enum:["date"]}}})},getSchemaOfOptions:function(){return r.merge(this.base(),{properties:{dateFormat:{title:"Date Format",description:"Date format (using moment.js format)",type:"string"},maskString:{title:"Field Mask String",description:"Expression for field mask",type:"string",default:"99/99/9999"},isBetween:{title:"Verify if the date is between two dates",description:"Uses mement isBetween function with four parameters.",type:"array",items:{type:"string"}}}})}}),r.registerFieldClass("date",r.Fields.DateField),r.registerDefaultFormatFieldMapping("date","date")})(),(()=>{var i=jQuery.alpaca;i.Fields.PhoneField=i.Fields.TextField.extend({setup:function(){var e,t=this;this.inputType="tel",this.base(),t.schema.pattern?i.isString(t.schema.pattern)&&(e=new RegExp(t.schema.pattern),t.schema.pattern=e):t.schema.pattern=i.regexps.phone,i.isEmpty(t.options.maskString)&&(t.options.maskString="(999) 999-9999")},handleValidate:function(){var e=this.base(),t=this.validation,n=this.options.placeholder||this.options.maskString;return t.invalidPattern.status||(t.invalidPattern.message=i.substituteTokens(this.getMessage("invalidPhone"),[n])),e},getFieldType:function(){return"phone"},getTitle:function(){return"Phone Field"},getDescription:function(){return"Phone Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:i.regexps.phone;return i.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string",default:e,enum:[e]},format:{title:"Format",description:"Property data format",type:"string",default:"phone",enum:["phone"]}}})},getSchemaOfOptions:function(){return i.merge(this.base(),{properties:{maskString:{title:"Field Mask String",description:"Expression for field mask",type:"string",default:"(999) 999-9999"}}})}}),i.registerFieldClass("phone",i.Fields.PhoneField),i.registerDefaultFormatFieldMapping("phone","phone")})(),(()=>{var t=jQuery.alpaca;t.Fields.PasswordField=t.Fields.TextField.extend({getFieldType:function(){return"password"},setup:function(){this.base(),this.schema.pattern||(this.schema.pattern=t.regexps.password)},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidPassword")),e},getTitle:function(){return"Password Field"},getDescription:function(){return"Password Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:t.regexps.password;return t.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string",default:e,enum:[e],readonly:!0},format:{title:"Format",description:"Property data format",type:"string",default:"password",enum:["password"],readonly:!0}}})}}),t.registerFieldClass("password",t.Fields.PasswordField),t.registerDefaultFormatFieldMapping("password","password")})(),(t=>{var r=t.alpaca;r.Fields.NumberField=r.Fields.TextField.extend({setup:function(){this.base(),void 0===this.options.numericEntry&&(this.options.numericEntry=!1)},getFieldType:function(){return"number"},postRender:function(e){var n=this;this.base(function(){n.control&&n.on("keypress",function(e){var e=e.charCode||e.keyCode||0,t=!0;return t=n.options.numericEntry?t&&48<=e&&e<=57:t}),e()})},getControlValue:function(){var e=this._getControlVal(!0);return void 0===e||""===e?e:parseFloat(e)},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateNumber(),i=(t.stringNotANumber={message:n?"":this.getMessage("stringNotANumber"),status:!!n},2===n&&(t.notOptional.status=!0,t.notOptional.message=""),2===n||this._validateDivisibleBy());return t.stringDivisibleBy={message:i?"":r.substituteTokens(this.getMessage("stringDivisibleBy"),[this.schema.divisibleBy]),status:i},i=2===n||this._validateMaximum(),t.stringValueTooLarge={message:"",status:i},i||(this.schema.exclusiveMaximum?t.stringValueTooLarge.message=r.substituteTokens(this.getMessage("stringValueTooLargeExclusive"),[this.schema.maximum]):t.stringValueTooLarge.message=r.substituteTokens(this.getMessage("stringValueTooLarge"),[this.schema.maximum])),i=2===n||this._validateMinimum(),t.stringValueTooSmall={message:"",status:i},i||(this.schema.exclusiveMinimum?t.stringValueTooSmall.message=r.substituteTokens(this.getMessage("stringValueTooSmallExclusive"),[this.schema.minimum]):t.stringValueTooSmall.message=r.substituteTokens(this.getMessage("stringValueTooSmall"),[this.schema.minimum])),i=2===n||this._validateMultipleOf(),t.stringValueNotMultipleOf={message:"",status:i},i||(t.stringValueNotMultipleOf.message=r.substituteTokens(this.getMessage("stringValueNotMultipleOf"),[this.schema.multipleOf])),e&&t.stringNotANumber.status&&t.invalidPattern.status&&t.stringDivisibleBy.status&&t.stringValueTooLarge.status&&t.stringValueTooSmall.status&&t.stringValueNotMultipleOf.status&&t.stringTooLong.status&&t.stringTooShort.status},_validateNumber:function(){var e=this._getControlVal();if(!r.isValEmpty(e="number"==typeof e?""+e:e)){if(!e.match(r.regexps.number))return!1;var t=this.getValue();if(isNaN(t)){if(!r.isValEmpty(this.options.maskString)){t=e.replace(/_/g,"");if(r.isValEmpty(t))return!0;if(t.match(/^([0-9]\d*)$/))return 2}return!1}}return!0},_validateDivisibleBy:function(){var e=this.getValue();return!(!r.isEmpty(this.schema.divisibleBy)&&e%this.schema.divisibleBy!=0)},_validateMaximum:function(){var e=this.getValue();if(!r.isEmpty(this.schema.maximum)){if(e>this.schema.maximum)return!1;if(!r.isEmpty(this.schema.exclusiveMaximum)&&e==this.schema.maximum&&this.schema.exclusiveMaximum)return!1}return!0},_validateMinimum:function(){var e=this.getValue();if(!r.isEmpty(this.schema.minimum)){if(e<this.schema.minimum)return!1;if(!r.isEmpty(this.schema.exclusiveMinimum)&&e==this.schema.minimum&&this.schema.exclusiveMinimum)return!1}return!0},_validateMultipleOf:function(){var e=this.getValue();return!(!r.isEmpty(this.schema.multipleOf)&&e&&0!==this.schema.multipleOf)},_validatePattern:function(){if(this.schema.pattern){var e=this.getValue();if(""===(e=r.isNumber(e)?e.toString():e)&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if(!(e=r.isEmpty(e)?"":e).match(this.schema.pattern))return!1}return!0},_validateMinLength:function(){if(!r.isEmpty(this.schema.minLength)){var e=this.getValue();if(""===(e=r.isNumber(e)?e.toString():e)&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if((e=r.isEmpty(e)?"":e).length<this.schema.minLength)return!1}return!0},_validateMaxLength:function(){if(!r.isEmpty(this.schema.maxLength)){var e=this.getValue();if(""===(e=r.isNumber(e)?e.toString():e)&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if((e=r.isEmpty(e)?"":e).length>this.schema.maxLength)return!1}return!0},getType:function(){return"number"},onKeyDown:function(e){var t,n=this;9!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode&&(8===e.keyCode?r.isEmpty(n.schema.minLength)||!n.options.constrainLengths&&!n.options.constrainMinLength||(t=n.getValue()||"",(t=r.isNumber(t)?t.toString():t).length<=n.schema.minLength&&(e.preventDefault(),e.stopImmediatePropagation())):r.isEmpty(n.schema.maxLength)||!n.options.constrainLengths&&!n.options.constrainMaxLength||(t=n.getValue()||"",(t=r.isNumber(t)?t.toString():t).length>=n.schema.maxLength&&(e.preventDefault(),e.stopImmediatePropagation())),32===e.keyCode)&&n.options.disallowEmptySpaces&&(e.preventDefault(),e.stopImmediatePropagation())},onKeyUp:function(e){this.updateMaxLengthIndicator(),t(this.field).trigger("fieldkeyup")},getSchemaOfSchema:function(){return r.merge(this.base(),{properties:{multipleOf:{title:"Multiple Of",description:"Property value must be a multiple of the multipleOf schema property such that division by this value yields an interger (mod zero).",type:"number"},minimum:{title:"Minimum",description:"Minimum value of the property.",type:"number"},maximum:{title:"Maximum",description:"Maximum value of the property.",type:"number"},exclusiveMinimum:{title:"Exclusive Minimum",description:"Property value can not equal the number defined by the minimum schema property.",type:"boolean",default:!1},exclusiveMaximum:{title:"Exclusive Maximum",description:"Property value can not equal the number defined by the maximum schema property.",type:"boolean",default:!1}}})},getSchemaOfOptions:function(){return r.merge(this.base(),{properties:{numericEntry:{title:"Numeric Entry",description:"Whether to constrain data entry key presses to numeric values (0-9)",type:"boolean",default:!1}}})},getTitle:function(){return"Number Field"},getDescription:function(){return"Field for float numbers."}}),r.registerFieldClass("number",r.Fields.NumberField),r.registerDefaultSchemaFieldMapping("number","number")})(jQuery),(t=>{var i=t.alpaca;i.Fields.IntegerField=i.Fields.NumberField.extend({getFieldType:function(){return"integer"},getControlValue:function(){var e=this.base();return void 0===e||""===e?e:parseInt(e,10)},onChange:function(e){this.base(),this.slider&&this.slider.slider("value",this.getValue())},postRender:function(e){var n=this;this.base(function(){!n.options.slider||i.isEmpty(n.schema.maximum)||i.isEmpty(n.schema.minimum)||n.control&&(n.control.after('<div id="slider"></div>'),n.slider=t("#slider",n.control.parent()).slider({value:n.getValue(),min:n.schema.minimum,max:n.schema.maximum,slide:function(e,t){n.setValue(t.value),n.refreshValidationState()}})),e()})},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateInteger();return t.stringNotANumber={message:n?"":this.getMessage("stringNotAnInteger"),status:n},e},_validateInteger:function(){var e=this._getControlVal();return!!i.isValEmpty(e="number"==typeof e?""+e:e)||!!e.match(i.regexps.integer)&&(e=this.getValue(),!isNaN(e))},getType:function(){return"integer"},getTitle:function(){return"Integer Field"},getDescription:function(){return"Field for integers."},getSchemaOfSchema:function(){return i.merge(this.base(),{properties:{minimum:{title:"Minimum",description:"Minimum value of the property.",type:"integer"},maximum:{title:"Maximum",description:"Maximum value of the property.",type:"integer"},divisibleBy:{title:"Divisible By",description:"Property value must be divisible by this number.",type:"integer"}}})},getSchemaOfOptions:function(){return i.merge(this.base(),{properties:{slider:{title:"Slider",description:"Generate jQuery UI slider control with the field if true.",type:"boolean",default:!1}}})}}),i.registerFieldClass("integer",i.Fields.IntegerField),i.registerDefaultSchemaFieldMapping("integer","integer")})(jQuery),(o=>{var l=o.alpaca;l.Fields.CheckBoxField=l.ControlField.extend({getFieldType:function(){return"checkbox"},setup:function(){var i=this;i.base(),this.options.rightLabel||(this.options.rightLabel=""),void 0!==i.options.multiple||"array"!==i.schema.type&&void 0===i.schema.enum||(i.options.multiple=!0),i.checkboxOptions=[],i.options.multiple&&o.each(i.getEnum(),function(e,t){var n=t;i.options.optionLabels&&(l.isEmpty(i.options.optionLabels[e])?l.isEmpty(i.options.optionLabels[t])||(n=i.options.optionLabels[t]):n=i.options.optionLabels[e]),i.checkboxOptions.push({value:t,text:n})})},getEnum:function(){var e=[];return e=this.schema&&this.schema.enum?this.schema.enum:e},onClick:function(e){this.refreshValidationState()},prepareControlModel:function(t){var n=this;this.base(function(e){e.checkboxOptions=n.checkboxOptions,t(e)})},postRender:function(i){var r=this;this.base(function(){if(r.data&&void 0!==r.data&&r.setValue(r.data),r.options.multiple&&(o(r.getFieldEl()).find("input:checkbox").prop("checked",!1),r.data)){var e,t=r.data;if("string"==typeof r.data)for(var t=r.data.split(","),n=0;n<t.length;n++)t[n]=o.trim(t[n]);for(e in t)o(r.getFieldEl()).find('input:checkbox[data-checkbox-value="'+t[e]+'"]').prop("checked",!0)}i()})},getControlValue:function(){var e=this,t=null;if(e.options.multiple){for(var n=[],i=0;i<e.checkboxOptions.length;i++){var r=o(e.getFieldEl()).find("input[data-checkbox-index='"+i+"']");l.checked(r)&&(r=o(r).attr("data-checkbox-value"),n.push(r))}"array"===e.schema.type?t=n:"string"===e.schema.type&&(t=n.join(","))}else var a=o(e.getFieldEl()).find("input"),t=0<a.length&&l.checked(o(a[0]));return t},setValue:function(r){function e(e){l.isString(e)&&(e="true"===e);var t=o(a.getFieldEl()).find("input");0<t.length&&l.checked(o(t[0]),e)}function t(e){"string"==typeof e&&(e=e.split(","));for(var t=0;t<e.length;t++)e[t]=l.trim(e[t]);l.checked(o(a.getFieldEl()).find("input[data-checkbox-value]"),!1);for(var n=0;n<e.length;n++){var i=o(a.getFieldEl()).find('input[data-checkbox-value="'+e[n]+'"]');0<i.length&&l.checked(o(i[0]),r)}}var a=this,n=!1;a.options.multiple?"string"!=typeof r&&!l.isArray(r)||(t(r),n=!0):"boolean"!=typeof r&&"string"!=typeof r||(e(r),n=!0),!n&&r&&l.logError("CheckboxField cannot set value for schema.type="+a.schema.type+" and value="+r),this.base(r)},_validateEnum:function(){var e;return!(this.options.multiple&&(e=this.getValue(),this.isRequired()||!l.isValEmpty(e)))||("string"==typeof e&&(e=e.split(",")),l.anyEquality(e,this.schema.enum))},disable:function(){o(this.control).find("input").each(function(){o(this).disabled=!0,o(this).prop("disabled",!0)})},enable:function(){o(this.control).find("input").each(function(){o(this).disabled=!1,o(this).prop("disabled",!1)})},getType:function(){return"boolean"},getTitle:function(){return"Checkbox Field"},getDescription:function(){return"Checkbox Field for boolean (true/false), string ('true', 'false' or comma-delimited string of values) or data array."},getSchemaOfOptions:function(){return l.merge(this.base(),{properties:{rightLabel:{title:"Option Label",description:"Optional right-hand side label for single checkbox field.",type:"string"},multiple:{title:"Multiple",description:"Whether to render multiple checkboxes for multi-valued type (such as an array or a comma-delimited string)",type:"boolean"}}})}}),l.registerFieldClass("checkbox",l.Fields.CheckBoxField),l.registerDefaultSchemaFieldMapping("boolean","checkbox")})(jQuery),(c=>{var d=c.alpaca;d.Fields.ObjectField=d.ContainerField.extend({getFieldType:function(){return"object"},setup:function(){var e=this,t=(this.base(),e.resolveContainerItemTemplateType());if(!t)return e.resolveContainerItemTemplateType(),d.throwErrorWithCallback("Unable to find template descriptor for container item: "+e.getFieldType());if(this.containerItemTemplateDescriptor=e.view.getTemplateDescriptor("container-"+t+"-item",e),!d.isEmpty(this.data)&&""!==this.data&&!d.isObject(this.data)&&d.isString(this.data))try{this.data=d.parseJSON(this.data),d.isObject(this.data)||d.logWarn("ObjectField parsed data but it was not an object: "+JSON.stringify(this.data))}catch(e){}},setValue:function(e){if(d.isObject(e=e||{})){var t,n={};for(t in this.childrenById)n[r=this.childrenById[t].propertyId]=this.childrenById[t];var i,r,a,o={};for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);for(r in o)(a=n[r])&&(a.setValue(o[r]),delete n[r],delete o[r]);for(r in n)(a=n[r]).setValue(null)}},getContainerValue:function(){if(0===this.children.length&&!this.isRequired())return{};for(var e={},t=0;t<this.children.length;t++){var n,i=this.children[t].propertyId,r=this.children[t].getValue();void 0!==r&&this.determineAllDependenciesValid(i)&&(n=null,"boolean"==typeof r?n=!!r:(d.isArray(r)||d.isObject(r)||d.isNumber(r)||r||0===r)&&(n=r),null!==n)&&(e[i]=n)}return e},afterRenderContainer:function(e,t){this.base(e,function(){t()})},createItems:function(t){var e,l=this,s=[],n={};for(e in l.data)n[e]=e;var i,r=l.data,a=[];for(i in r=l.schema&&l.schema.properties?l.schema.properties:r){var o=null,o=((r,a,o)=>function(i){l.resolvePropertySchemaOptions(r,function(e,t,n){if(n)return d.throwErrorWithCallback("Circular reference detected for schema: "+JSON.stringify(e),_this.errorCallback);e||d.logDebug("Unable to resolve schema for property: "+r),l.createItem(r,e,t,a,null,function(e){s.push(e),delete o[r],d.nextTick(function(){i()})})})})(i,o=l.data&&l.data.hasOwnProperty(i)?l.data[i]:o,n);a.push(o)}d.series(a,function(e){t(s)})},createItem:function(n,e,t,i,r,a){var o=this;c("<div></div>").alpaca({data:i,options:t,schema:e,view:this.view.id||this.view,connector:this.connector,error:function(e){o.destroy(),o.errorCallback.call(o,e)},notTopLevel:!0,render:function(e,t){e.parent=o,e.propertyId=n,"/"!==o.path?e.path=o.path+"/"+n:e.path=o.path+n,e.render(null,function(){t()})},postRender:function(e){var t=d.tmpl(o.containerItemTemplateDescriptor,{id:o.getId(),name:e.name,parentFieldId:o.getId(),actionbarStyle:o.options.actionbarStyle,view:o.view,data:i}),n=(d.logDebug("acioina MARKER6: "+c(t)[0].innerHTML),c(t).find("."+d.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD));0===(n=0===n.length&&c(t).hasClass(d.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD)?c(t):n).length?o.errorCallback.call(o,{message:"Cannot find insertion point for field: "+o.getId()}):(c(n).before(e.getFieldEl()),c(n).remove(),e.containerItemEl=t,d.fieldApplyFieldAndChildren(e,function(e){e.hideInitValidationError=!1}),a&&a(e))}})},resolvePropertySchemaOptions:function(e,i){function l(e,t,n){r.options.readonly&&(t.readonly=!0),i(e,t,n)}var r=this,t=null,n=(r.schema&&r.schema.properties&&r.schema.properties[e]&&(t=r.schema.properties[e]),{});if(r.options&&r.options.fields&&r.options.fields[e]&&(n=r.options.fields[e]),t&&t.$ref){for(var s=t.$ref,a=this,u=[a];a.parent;)a=a.parent,u.push(a);var c=t,p=n;d.loadRefSchemaOptions(a,s,function(e,t){for(var n=0,i=0;i<u.length;i++)!u[i].schema||u[i].schema.id!==s&&u[i].schema.id!=="#"+s&&u[i].schema.$ref!==s||n++;var r=1<n,a={},o=(c&&d.mergeObject(a,c),e&&d.mergeObject(a,e),c&&c.id&&(a.id=c.id),{});p&&d.mergeObject(o,p),t&&d.mergeObject(o,t),d.nextTick(function(){l(a,o,r)})})}else d.nextTick(function(){l(t,n)})},applyCreatedItems:function(i,r){var a=this;this.base(i,function(){function n(e){var t;e===i.items.length?r():(t=i.items[e].propertyId,a.showOrHidePropertyBasedOnDependencies(t),a.bindDependencyFieldUpdateEvent(t),a.refreshDependentFieldStates(t),n(e+1))}n(0)})},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateMaxProperties();return t.tooManyProperties={message:n?"":d.substituteTokens(this.getMessage("tooManyProperties"),[this.schema.maxProperties]),status:n},n=this._validateMinProperties(),t.tooFewProperties={message:n?"":d.substituteTokens(this.getMessage("tooManyItems"),[this.schema.items.minProperties]),status:n},e&&t.tooManyProperties.status&&t.tooFewProperties.status},_validateMaxProperties:function(){if(void 0===this.schema.maxProperties)return!0;var e,t=this.schema.maxProperties,n=0;for(e in this.data)n++;return n<=t},_validateMinProperties:function(){if(void 0===this.schema.minProperties)return!0;var e,t=this.schema.minProperties,n=0;for(e in this.data)n++;return t<=n},showOrHidePropertyBasedOnDependencies:function(e){var t=this.childrenByPropertyId[e];if(!t)return d.throwErrorWithCallback("Missing property: "+e,this.errorCallback);this.determineAllDependenciesValid(e)?(t.show(),t.onDependentReveal()):(t.hide(),t.onDependentConceal()),t.getFieldEl().trigger("fieldupdate")},determineAllDependenciesValid:function(n){var i,r=this,e=this.childrenByPropertyId[n];return e?!(e=e.schema.dependencies)||(i=!0,d.isString(e)?i=r.determineSingleDependencyValid(n,e):d.isArray(e)&&c.each(e,function(e,t){i=i&&r.determineSingleDependencyValid(n,t)}),i):d.throwErrorWithCallback("Missing property: "+n,r.errorCallback)},bindDependencyFieldUpdateEvent:function(n){var e,i,r=this,a=this.childrenByPropertyId[n];return a?!(e=a.schema.dependencies)||(i=function(e,t){var n,i,t=d.resolveField(r,t);t&&(t.getFieldEl().bind("fieldupdate",(n=a,i=e,function(e){r.showOrHidePropertyBasedOnDependencies(i),n.getFieldEl().trigger("fieldupdate")})),t.getFieldEl().trigger("fieldupdate"))},void(d.isString(e)?i(n,e):d.isArray(e)&&c.each(e,function(e,t){i(n,t)}))):d.throwErrorWithCallback("Missing property: "+n,r.errorCallback)},refreshDependentFieldStates:function(e){var n,t=this,i=this.childrenByPropertyId[e];return i?!(i=i.schema.dependencies)||(n=function(e){e=d.resolveField(t,e);e&&e.getFieldEl().trigger("fieldupdate")},void(d.isString(i)?n(i):d.isArray(i)&&c.each(i,function(e,t){n(t)}))):d.throwErrorWithCallback("Missing property: "+e,t.errorCallback)},determineSingleDependencyValid:function(e,t){var n,i,r,a=d.resolveField(this,t);return!!a&&(n=a.data,i=!1,(r=this.childrenByPropertyId[e].options.dependencies)&&0!==r.length?("boolean"===a.getType()&&(n=n||!1),r=r[t],!d.isEmpty(r)&&d.isFunction(r)?i=r.call(this,n):(i=!0,d.isArray(r)?d.anyEquality(n,r)||(i=!1):d.isEmpty(r)||d.anyEquality(r,n)||(i=!1))):i=!("boolean"===a.getType()&&!this.childrenByPropertyId[e].options.dependencies&&!n||d.isValEmpty(a.data)),!a||!a.isHidden())&&i},getIndex:function(e){if(!d.isEmpty(e))for(var t=0;t<this.children.length;t++)if(this.children[t].propertyId==e)return t;return-1},addItem:function(e,t,n,i,r,a){var o=this;this.createItem(e,t,n,i,r,function(e){var t=null;if(r&&o.childrenById[r])for(var n=0;n<o.children.length;n++)if(o.children[n].getId()==r){t=n;break}o.registerChild(e,null!=t?t+1:null),o.doAddItem(t,e),o.handleRepositionDOMRefresh(),o.refreshValidationState(!0,function(){o.trigger("add",e),o.triggerUpdate(),a&&a()})})},doAddItem:function(e,t){e?(e=this.getContainerEl().children("[data-alpaca-container-item-index='"+e+"']"))&&0<e.length&&e.after(t.containerItemEl):c(this.container).append(t.containerItemEl),this.doAfterAddItem(t)},doAfterAddItem:function(e){},doResolveItemContainer:function(){return c(this.container)},removeItem:function(n,e){var t=this,i=this.childrenByPropertyId[n];i?(this.children=c.grep(this.children,function(e,t){return e.propertyId!==n}),delete this.childrenByPropertyId[n],delete this.childrenById[i.getId()],t.doRemoveItem(i),this.refreshValidationState(!0,function(){t.handleRepositionDOMRefresh(),t.trigger("remove",i),t.triggerUpdate(),e&&e()})):e()},doRemoveItem:function(e){this.doResolveItemContainer().children(".alpaca-container-item[data-alpaca-container-item-name='"+e.name+"']").remove(),e.destroy()},getType:function(){return"object"},moveItem:function(n,i,e,r){var a,o,l,s,t,u=this;"function"==typeof e&&(r=e,e=u.options.animate),void 0===e&&(e=u.options.animate||!0),"string"==typeof n&&(n=parseInt(n,10)),-1!==(i=(i=(i="string"==typeof i?parseInt(i,10):i)<0?0:i)>=u.children.length?u.children.length-1:i)&&u.children[i]&&(a=u.getContainerEl().children("[data-alpaca-container-item-index='"+n+"']"),o=u.getContainerEl().children("[data-alpaca-container-item-index='"+i+"']"),l=c("<div class='tempMarker1'></div>"),a.before(l),s=c("<div class='tempMarker2'></div>"),o.before(s),t=function(){for(var e=[],t=0;t<u.children.length;t++)e[t]=t===n?u.children[i]:t===i?u.children[n]:u.children[t];u.children=e,l.replaceWith(o),s.replaceWith(a),u.handleRepositionDOMRefresh(),c(a).find("[data-alpaca-array-actionbar-item-index='"+n+"']").attr("data-alpaca-array-actionbar-item-index",i),c(o).find("[data-alpaca-array-actionbar-item-index='"+i+"']").attr("data-alpaca-array-actionbar-item-index",n),u.refreshValidationState(),u.triggerUpdate(),u.trigger("move"),r&&r()},e?d.animatedSwap(a,o,500,function(){t()}):t())},getTitle:function(){return"Object Field"},getDescription:function(){return"Object field for containing other fields"},getSchemaOfSchema:function(){var e={properties:{properties:{title:"Properties",description:"List of child properties.",type:"object"},maxProperties:{type:"number",title:"Maximum Number Properties",description:"The maximum number of properties that this object is allowed to have"},minProperties:{type:"number",title:"Minimum Number of Properties",description:"The minimum number of properties that this object is required to have"}}},t=e.properties.properties;if(t.properties={},this.children)for(var n=0;n<this.children.length;n++){var i=this.children[n].propertyId;t.properties[i]=this.children[n].getSchemaOfSchema(),t.properties[i].title=i+" :: "+t.properties[i].title}return d.merge(this.base(),e)},getSchemaOfOptions:function(){var e=d.merge(this.base(),{properties:{}}),t={properties:{fields:{title:"Field Options",description:"List of options for child fields.",type:"object"}}},n=t.properties.fields;if(n.properties={},this.children)for(var i=0;i<this.children.length;i++){var r=this.children[i].propertyId;n.properties[r]=this.children[i].getSchemaOfOptions(),n.properties[r].title=r+" :: "+n.properties[r].title}return d.merge(e,t)}}),d.registerFieldClass("object",d.Fields.ObjectField),d.registerDefaultSchemaFieldMapping("object","object")})(jQuery),(()=>{var t=jQuery.alpaca;t.Fields.AnyField=t.ControlField.extend({getFieldType:function(){return"any"},setup:function(){this.base()},getControlValue:function(){return this._getControlVal(!0)},setValue:function(e){t.isEmpty(e)?this.control.val(""):this.control.val(e),this.base(e)},disable:function(){this.control.disabled=!0},enable:function(){this.control.disabled=!1},focus:function(e){this.control.focus(),e&&e(this)},getType:function(){return"any"},getTitle:function(){return"Any Field"},getDescription:function(){return"Any field."},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{}})}}),t.registerFieldClass("any",t.Fields.AnyField),t.registerDefaultSchemaFieldMapping("any","any")})(),(t=>{var o=t.alpaca;o.Fields.ListField=o.ControlField.extend({setup:function(){var i=this;i.base(),i.selectOptions=[],i.getEnum()&&t.each(i.getEnum(),function(e,t){var n=t;i.options.optionLabels&&(o.isEmpty(i.options.optionLabels[e])?o.isEmpty(i.options.optionLabels[t])||(n=i.options.optionLabels[t]):n=i.options.optionLabels[e]),i.selectOptions.push({value:t,text:n})}),i.isRequired()&&!i.data&&!0===i.options.removeDefaultNone&&i.schema.enum&&0<i.schema.enum.length&&(i.data=i.schema.enum[0])},prepareControlModel:function(t){var n=this;this.base(function(e){e.noneLabel=n.getMessage("noneLabel"),void 0!==n.options.noneLabel&&(e.noneLabel=n.options.noneLabel),e.hideNone=n.isRequired(),void 0!==n.options.removeDefaultNone&&(e.hideNone=n.options.removeDefaultNone),t(e)})},getEnum:function(){if(this.schema&&this.schema.enum)return this.schema.enum},convertValue:function(r){var e=this;return o.isArray(r)?t.each(r,function(n,i){t.each(e.selectOptions,function(e,t){t.value===i&&(r[n]=t.value)})}):t.each(this.selectOptions,function(e,t){t.value===r&&(r=t.value)}),r},beforeRenderControl:function(n,r){var a=this;this.base(n,function(){if(a.options.dataSource){a.selectOptions=[];var i=function(){a.schema.enum=[],a.options.optionLabels=[];for(var e=0;e<a.selectOptions.length;e++)a.schema.enum.push(a.selectOptions[e].value),a.options.optionLabels.push(a.selectOptions[e].text);n.selectOptions=a.selectOptions,r()};if(o.isFunction(a.options.dataSource))a.options.dataSource.call(a,function(e){if(o.isArray(e))for(var t=0;t<e.length;t++)"string"==typeof e[t]?a.selectOptions.push({text:e[t],value:e[t]}):o.isObject(e[t])&&a.selectOptions.push(e[t]);else if(o.isObject(e))for(var n in e)a.selectOptions.push({text:n,value:e[n]});i()});else if(!o.isUri(a.options.dataSource))if(o.isArray(a.options.dataSource)){for(var e=0;e<a.options.dataSource.length;e++)"string"==typeof a.options.dataSource[e]?a.selectOptions.push({text:a.options.dataSource[e],value:a.options.dataSource[e]}):o.isObject(a.options.dataSource[e])&&a.selectOptions.push(a.options.dataSource[e]);i()}else if(o.isObject(a.options.dataSource)){for(var t in a.options.dataSource)a.selectOptions.push({text:a.options.dataSource[t],value:t});i()}else r()}else r()})},getSchemaOfSchema:function(){return o.merge(this.base(),{properties:{enum:{title:"Enumeration",description:"List of field value options",type:"array",required:!0}}})},getSchemaOfOptions:function(){return o.merge(this.base(),{properties:{optionLabels:{title:"Option Labels",description:"Labels for options. It can either be a map object or an array field that maps labels to items defined by enum schema property one by one.",type:"array"},dataSource:{title:"Option Datasource",description:"Datasource for generating list of options.  This can be a string or a function.  If a string, it is considered to be a URI to a service that produces a object containing key/value pairs or an array of elements of structure {'text': '', 'value': ''}.  This can also be a function that is called to produce the same list.",type:"string"},removeDefaultNone:{title:"Remove Default None",description:"If true, the default 'None' option will not be shown.",type:"boolean",default:!1},noneLabel:{title:"None Label",description:"The label to use for the 'None' option in a list (select, radio or otherwise).",type:"string",default:"None"},hideNone:{title:"Hide None",description:"Whether to hide the None option from a list (select, radio or otherwise).  This will be true if the field is required and false otherwise.",type:"boolean",default:!1}}})}})})(jQuery),(i=>{var r=i.alpaca;r.Fields.RadioField=r.Fields.ListField.extend({getFieldType:function(){return"radio"},setup:function(){this.base(),this.options.name?this.name=this.options.name:this.name||(this.name=this.getId()+"-name"),r.isUndefined(this.options.emptySelectFirst)&&(this.options.emptySelectFirst=!1),r.isUndefined(this.options.vertical)&&(this.options.vertical=!0)},getControlValue:function(){var e=this,t=null;return i(this.control).find(":checked").each(function(){t=i(this).val(),t=e.ensureProperType(t)}),t},setValue:function(e){i(this.control).find("input").each(function(){r.checked(i(this),null)}),void 0!==e&&r.checked(i(this.control).find('input[value="'+e+'"]'),"checked"),this.options.emptySelectFirst&&0===i(this.control).find("input:checked").length&&r.checked(i(this.control).find("input:radio").first(),"checked"),this.base(e)},initControlEvents:function(){var t=this,e=(t.base(),i(this.control).find("input"));e.focus(function(e){t.suspendBlurFocus||(t.onFocus.call(t,e),t.trigger("focus",e))}),e.blur(function(e){t.suspendBlurFocus||(t.onBlur.call(t,e),t.trigger("blur",e))})},prepareControlModel:function(t){var n=this;this.base(function(e){e.selectOptions=n.selectOptions,e.removeDefaultNone=n.options.removeDefaultNone,t(e)})},afterRenderControl:function(e,t){var n=this;this.base(e,function(){n.options.emptySelectFirst&&n.selectOptions&&0<n.selectOptions.length&&(n.data=n.selectOptions[0].value,0===i("input:radio:checked",n.control).length)&&r.checked(i(n.control).find('input:radio[value="'+n.data+'"]'),"checked"),n.options.vertical?i(n.control).css("display","block"):i(n.control).css("display","inline-block"),t()})},onClick:function(e){var t=this.getValue(),e=(this.base(e),i(e.currentTarget).find("input").val());void 0!==e&&(this.setValue(e),this.refreshValidationState(),t!==e)&&this.trigger("change")},disable:function(){this.base(),this.getFieldEl().addClass("disabled")},enable:function(){this.base(),this.getFieldEl().removeClass("disabled")},getTitle:function(){return"Radio Group Field"},getDescription:function(){return"Radio Group Field with list of options."},getSchemaOfOptions:function(){return r.merge(this.base(),{properties:{name:{title:"Field name",description:"Field name.",type:"string"},emptySelectFirst:{title:"Empty Select First",description:"If the data is empty, then automatically select the first item in the list.",type:"boolean",default:!1},vertical:{title:"Position the radio selector items vertically",description:"By default, radio controls are stacked vertically.  Set to false if you'd like radio controls to lay out horizontally.",type:"boolean",default:!0}}})}}),r.registerFieldClass("radio",r.Fields.RadioField)})(jQuery),(r=>{var a=r.alpaca;a.Fields.SelectField=a.Fields.ListField.extend({getFieldType:function(){return"select"},setup:function(){this.base()},getControlValue:function(){var e=this._getControlVal(!0);return void 0===e&&(e=this.data),this.convertValue(e)},setValue:function(e){a.isArray(e)?a.compareArrayContent(e,this.getValue())||(!a.isEmpty(e)&&this.control&&this.control.val(e),this.base(e)):e!==this.getValue()&&(this.control&&void 0!==e&&null!=e&&this.control.val(e),this.base(e))},getEnum:function(){if(this.schema)return this.schema.enum||(this.schema.type&&"array"===this.schema.type&&this.schema.items&&this.schema.items.enum?this.schema.items.enum:void 0)},initControlEvents:function(){var e,t=this;t.base(),t.options.multiple&&((e=this.control.parent().find("button.multiselect")).focus(function(e){t.suspendBlurFocus||(t.onFocus.call(t,e),t.trigger("focus",e))}),e.blur(function(e){t.suspendBlurFocus||(t.onBlur.call(t,e),t.trigger("blur",e))}))},beforeRenderControl:function(e,t){var n=this;this.base(e,function(){n.schema.type&&"array"===n.schema.type&&(n.options.multiple=!0),t()})},prepareControlModel:function(t){var n=this;this.base(function(e){e.selectOptions=n.selectOptions,t(e)})},afterRenderControl:function(e,t){var n=this;this.base(e,function(){var e;a.isUndefined(n.data)&&n.options.emptySelectFirst&&n.selectOptions&&0<n.selectOptions.length&&(n.data=n.selectOptions[0].value),n.data&&n.setValue(n.data),n.options.multiple&&r.fn.multiselect&&(e=null,(e=n.options.multiselect||{}).nonSelectedText||(e.nonSelectedText="None",n.options.noneLabel&&(e.nonSelectedText=n.options.noneLabel)),n.options.hideNone&&delete e.nonSelectedText,r(n.getControlEl()).multiselect(e)),t()})},_validateEnum:function(){var n,e,i=this;return!(this.schema.enum&&(e=this.getValue(),this.isRequired()||!a.isValEmpty(e)))||(this.options.multiple?(n=!0,a.isArray(e=e||[])||a.isObject(e)||(e=[e]),r.each(e,function(e,t){if(r.inArray(t,i.schema.enum)<=-1)return n=!1}),n):-1<r.inArray(e,this.schema.enum))},onChange:function(e){this.base(e);var t=this;a.later(25,this,function(){var e=t.getValue();t.setValue(e),t.refreshValidationState()})},_validateMinItems:function(){return!(this.schema.items&&this.schema.items.minItems&&r(":selected",this.control).length<this.schema.items.minItems)},_validateMaxItems:function(){return!(this.schema.items&&this.schema.items.maxItems&&r(":selected",this.control).length>this.schema.items.maxItems)},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateMaxItems();return t.tooManyItems={message:n?"":a.substituteTokens(this.getMessage("tooManyItems"),[this.schema.items.maxItems]),status:n},n=this._validateMinItems(),t.notEnoughItems={message:n?"":a.substituteTokens(this.getMessage("notEnoughItems"),[this.schema.items.minItems]),status:n},e&&t.tooManyItems.status&&t.notEnoughItems.status},getTitle:function(){return"Select Field"},getDescription:function(){return"Select Field"},getSchemaOfOptions:function(){return a.merge(this.base(),{properties:{multiple:{title:"Mulitple Selection",description:"Allow multiple selection if true.",type:"boolean",default:!1},size:{title:"Displayed Options",description:"Number of options to be shown.",type:"number"},emptySelectFirst:{title:"Empty Select First",description:"If the data is empty, then automatically select the first item in the list.",type:"boolean",default:!1},multiselect:{title:"Multiselect Plugin Settings",description:"Multiselect plugin properties - http://davidstutz.github.io/bootstrap-multiselect",type:"any"}}})}}),a.registerFieldClass("select",a.Fields.SelectField)})(jQuery),(()=>{var o=jQuery.alpaca,e=(o.registerView({id:"base",title:"Abstract base view"}),{}),t=(e.field=function(){},e.control=function(){},e.container=function(){},e.form=function(){},e.required=function(){},e.optional=function(){},e.readonly=function(){},e.disabled=function(){},e.enabled=function(){},e.clearValidity=function(){},e.invalid=function(e){},e.valid=function(){var e=this;if(e.options&&0!==e.getValue().length){if(e.options.disallowOnlyEmptySpaces){var t=e.getValue().trim(),n=e.validation;if(e.schema.minLength&&t.length<e.schema.minLength)return n.notOptional={message:o.substituteTokens(this.getMessage("stringTooShortAfterTrimming"),[e.schema.minLength]),status:!1},void e.setValue(t)}if(e.options.dateFormat){t=e.getValue();if((t||e.isRequired())&&e.options.isBetween&&o.isArray(e.options.isBetween)&&4==e.options.isBetween.length){var t=moment(t,e.options.dateFormat,!0),i=moment(e.options.isBetween[0],e.options.placeholder,!0),r=moment(e.options.isBetween[1],e.options.placeholder,!0);if(!(t.isValid()&&i.isValid()&&r.isValid()))return void((n=e.validation).notOptional={message:o.substituteTokens(this.getMessage("invalidDateRangeDef"),[e.options.isBetween[0],e.options.isBetween[1]]),status:!1});var a=e.options.isBetween[3];if(a&&o.isString(a)&&2==a.length&&!t.isBetween(i,r,e.options.isBetween[2],a))return void((n=e.validation).notOptional={message:o.substituteTokens(this.getMessage("invalidDateRange"),[a[0],e.options.isBetween[0],e.options.isBetween[1],a[1]]),status:!1})}}e.options.onValidValue&&"function"==typeof e.options.onValidValue&&e.options.onValidValue(this)}},e.addMessage=function(e,t,n,i){},e.removeMessages=function(){},e.enableButton=function(e){},e.disableButton=function(e){},e.arrayToolbar=function(e){},e.arrayActionbars=function(e){},e.autocomplete=function(){this.options&&this.options.onAutocomplete&&"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete(this)},{});t.button="",t.smallButton="",t.addIcon="",t.removeIcon="",t.upIcon="",t.downIcon="",t.expandedIcon="",o.registerView({id:"web-display",parent:"base",type:"view",ui:"web",title:"Default HTML5 display view",displayReadonly:!(t.collapsedIcon=""),templates:{},callbacks:e,styles:t,horizontal:!1}),o.registerView({id:"web-edit",parent:"base",type:"edit",ui:"web",title:"Default HTML5 edit view",displayReadonly:!0,templates:{},callbacks:e,styles:t,horizontal:!1})})(),Alpaca});